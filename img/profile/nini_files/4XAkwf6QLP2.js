if (self.CavalryLogger) { CavalryLogger.start_js(["KOxL6"]); }

__d("TimelineInfoReviewParam",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ACTION:"action",ENTITY_ID:"ent",EXISTING_ERROR:"error",ITEM_TYPE:"type",ITEM_TOKEN:"i_token",MULTI_CHOICE_OPTION:"option",QUERY:"query",REPLACE_ID:"replace_id",QUESTION_SESSION:"session",QUESTION_TOKEN:"token",CURSOR:"cursor",DATE:"date",DAY:"day",DISPLAY_NAME:"is_display_name",END_DAY:"end_day",END_MONTH:"end_month",END_YEAR:"end_year",ENTITY_IDS:"ents",ENTITY_IDS_TYPEAHEAD:"ents_ta",GENERIC_TEXT:"generic_text",HUB_ID:"hub_id",LIKED:"liked",LOCATION_ID:"location_id",MLE_TYPES:"valid_mle_types",TITLE:"title",MONTH:"month",NO_VALID_ANSWER_ID:"no_answer",PREVIOUS_PROGRESS:"prev_prog",START_DAY:"start_day",START_MONTH:"start_month",START_YEAR:"start_year",TEXT:"text",TEXT_TYPE:"text_type",YEAR:"year",LOCATION:"location",RENDER_TIME:"render_t",REQUEST_ID:"request",RETHROW_ERRORS:"rethrow_errors",OTHER_ID:"other_id",FIELD_TYPE:"field_type",BIRTHDAY:"birthday",CITY_ID:"city_id",COLLEGE_ID:"college_id",COLLEGE_TEXT:"college_text",CONTAINER_ID:"container_id",COUNTRY_CODE:"country",EMAIL_ADDRESS:"email",EMAIL_FBID:"email_fbid",EMAIL_FBIDS:"email_fbids",ENTITY_ID_TYPEAHEAD:"ent_ta",FAMILY_ANNIVERSARIES:"family_anniversaries",FAMILY_ANNIVERSARIES_IN_MS:"family_anniversaries_in_ms",FAMILY_ANNIVERSARY_DAYS:"family_anniversary_days",FAMILY_ANNIVERSARY_MONTHS:"family_anniversary_months",FAMILY_ANNIVERSARY_YEARS:"family_anniversary_years",FAMILY_BIRTHDAYS:"family_birthdays",FAMILY_BIRTHDAY_DAYS:"family_birthday_days",FAMILY_BIRTHDAY_MONTHS:"family_birthday_months",FAMILY_BIRTHDAY_YEARS:"family_birthday_years",FAMILY_BIRTHDAYS_IN_MS:"family_birthdays_in_ms",FAMILY_IDS:"family_ids",FAMILY_RELATIONS:"family_relations",FAMILY_TEXT_NAMES:"family_text_names",GRAD_SCHOOL_ID:"grad_id",GRAD_SCHOOL_TEXT:"grad_text",HIGH_SCHOOL_ID:"hs_id",HIGH_SCHOOL_TEXT:"hs_text",NAME_PRONUNCIATION_FIRSTNAME_RADIO:"first_radio",NAME_PRONUNCIATION_LASTNAME_RADIO:"last_radio",NAME_PRONUNCIATION_FIRSTNAME_CUSTOM:"first_input",NAME_PRONUNCIATION_LASTNAME_CUSTOM:"last_input",NEIGHBORHOOD:"neighborhood",ONLY_SHARE_WITH:"only_share",PHONE_FBIDS:"phone_fbids",PHONE_FBID:"phone_fbid",PHONE_NUMBER:"phone",PHONE_TYPE:"phone_type",POSTAL_CODE:"postal_code",PRIVACY_X:"priv_x",STREET_ADDRESS:"address",USE_EXISTING:"existing",SAVE:"save",SKIP:"skip"};},null);
__d('AdsFlexibleTargetingQETestConstant',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports={NEW_SELECTION_STYLE:false,NEW_DROPDOWN_HEIGHT:false};},null);
__d('AdsSBTokenizerConstants',['AdsFlexibleTargetingQETestConstant'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('AdsFlexibleTargetingQETestConstant').NEW_DROPDOWN_HEIGHT,i=32,j={ACTIVE_STATES:{NONE:0,BROWSE:1,SUGGESTIONS:2,SEARCH:3},TOKENIZER_UI_VARIATIONS:{NULL_STATE_BROWSE:0,BROWSE_TREE_VISIBLE:1},ROW:{HEIGHT:i},TYPEAHEAD:{HEIGHT:h?8.5*i:215},FLEXIBLE_TARGETING:{HEIGHT:8.5*i},WHITE_BOX:{WIDTH:230},COLUMN_FORMAT:{ONE_COLUMN:1,DEFAULT:2},TOKENIZER_TYPES:{LANGUAGES:'languages',INTERESTS:'unified_interests',BEHAVIORS:'behaviors_targeting',FLEXIBLE:'flexible_targeting',JOBTITLES:'job_title',LOOKALIKE:'lookalike'}};f.exports=j;},null);
__d('AdsSearchBrowseUtils',['cx','fbt','AdsSBTokenizerConstants','AdsTargetingSectionsLabels','React'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={},k=c('AdsSBTokenizerConstants').TOKENIZER_TYPES,l={makeID:function(){var m="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(var o=0;o<5;o++)m+=n.charAt(Math.floor(Math.random()*n.length));return m;},treeLevelData:function(m,n,o,p,q){if(!n||o.length===0)return {};var r=[],s=0;for(var t=0;t<o.length;t++){var u=o[t],v=m[u];if(!v)continue;var w=this.treeLevelData(m,n.children[u],this.sortKeys(n.children[u]),p,q+1);v.children=w.levelArray;if(!v.id&&(!v.children||!v.children.length))continue;if(w.numLeafCategories){v.numLeafCategories=w.numLeafCategories;if(p)v.unselectable=true;}r.push(v);s+=w.numLeafCategories?w.numLeafCategories:1;}return {levelArray:r,numLeafCategories:s};},getSortedKeysFromTreeNodeHashes:function(m){var n=Object.keys(m);n.sort(function(o,p){var q=m[o].sortKey,r=m[p].sortKey;return q<r?-1:q>r?1:0;});return n;},sortKeys:function(m){var n=this.getSortedKeysFromTreeNodeHashes(m.children),o=[],p={};for(var q=0;q<n.length;q++){var r=n[q];if(j[r]){p[r]=true;}else o.push(r);}for(var s in p)o.unshift(s);return o;},generateTreeData:function(m,n){var o=this.generateTreeDataHash(m),p=this.sortKeys(o),q=this.treeLevelData(m,o,p,n,0);return q.levelArray||[];},createTreeNodeHash:function(m,n){var o={children:{},sortKey:m};if(n!=null&&n.sortKey!=null)o.sortKey=n.sortKey;return o;},generateTreeDataHash:function(m){var n=this.createTreeNodeHash(),o;for(var p in m){var q=m[p],r=q.path,s=n;if(r)for(var t=0;t<r.length;t++){o=r.slice(0,t+1).join(' > ');if(!(o in s.children))s.children[o]=this.createTreeNodeHash(o);s=s.children[o];}if(!(p in s.children))s.children[p]=this.createTreeNodeHash(p,q);}return n;},getMatchedIndexArray:function(m,n){var o=[],p=m.split(' ').map(function(u){return u.trim();}),q=n.split(' ').map(function(u){return u.trim();}),r=0;for(var s=0;s<q.length;s++){var t=q[s].indexOf(p[r]);if(t>=0){o.push({start:t,end:t+p[r].length});r+=1;}else o.push(null);}return o;},sortEntries:function(m,n){var o=m.score,p=n.score;if(o===p)return m.getTitle()>n.getTitle()?1:-1;return o<p?1:-1;},getDefaultDescription:function(m,n){if(m===k.INTERESTS)return i._("People who have expressed an interest in or like pages related to {name}",[i.param('name',c('React').createElement('span',{className:"_2cys"},' '+n.name))]);if(m.lastIndexOf(k.FLEXIBLE)===0)switch(n.type){case 'interests':return i._("People who have expressed an interest in or like pages related to {name}",[i.param('name',c('React').createElement('span',{className:"_2cys"},' '+n.name))]);case 'college_years':return i._("People who indicated they graduated from college in {name}",[i.param('name',c('React').createElement('span',{className:"_2cys"},' '+n.name))]);case 'education_majors':return i._("People who listed their major or field of study as {name} in their Facebook profile.",[i.param('name',c('React').createElement('span',{className:"_2cys"},' '+n.name+' '))]);case 'education_schools':return i._("People who listed their school as {name} in their Facebook profile.",[i.param('name',c('React').createElement('span',{className:"_2cys"},' '+n.name+' '))]);case 'education_statuses':return i._("People who indicated their highest education level as {name}",[i.param('name',c('React').createElement('span',{className:"_2cys"},' '+n.name))]);case 'work_employers':return i._("People who listed their employer as {name} in their Facebook profile.",[i.param('name',c('React').createElement('span',{className:"_2cys"},' '+n.name+' '))]);case 'work_positions':return i._("People who listed their job title as {name} in their Facebook profile.",[i.param('name',c('React').createElement('span',{className:"_2cys"},' '+n.name+' '))]);case 'relationship_statuses':return i._("People who listed their relationship status as {name} in their Facebook profile.",[i.param('name',c('React').createElement('span',{className:"_2cys"},' '+n.name+' '))]);case 'interested_in':return i._("People who are interested in {name} for friendship, dating, relationships or networking.",[i.param('name',c('React').createElement('span',{className:"_2cys"},' '+n.name+' '))]);}},getPartnerCategoryByRequestLabel:function(){var m=i._("Partner Categories By Request");return m;},getPartnerCategoryLabel:function(){var m=i._("Partner Categories");return m;},getFacebookCategoryLabel:function(){var m=i._("Facebook Categories");return m;},getBehaviorsTypeaheadLabel:function(){var m=i._("Behaviors");return m;},fromTypeaheadTypeToAdvancedDemoLabel:function(m){return c('AdsTargetingSectionsLabels')[m]||c('AdsTargetingSectionsLabels')[this._toCamelCase(m)];},fromTypeaheadTypeToLabel:function(m){if(m==='behaviors'){return this.getBehaviorsTypeaheadLabel();}else return this.fromTypeaheadTypeToAdvancedDemoLabel(m);},_toCamelCase:function(m){if(!m)return m;var n=/_(.)/g;return m.replace(n,function(o,p){return typeof p==='string'?p.toUpperCase():'';});},getFlexibleSpec:function(m){return JSON.stringify((m||[]).map(function(n){return n.type+'.'+n.id;}).join(','));}};f.exports=l;},null);
__d('AudienceInterestsSearchSource',['AbstractSearchSource','AdsCreateFlowQueryLimits','AdsSearchBrowseUtils','CurrentLocale','GraphAPI','SearchableEntry'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=void 0;h=babelHelpers.inherits(k,c('AbstractSearchSource'));i=h&&h.prototype;function k(l){i.constructor.call(this);if(j){return j;}else{this.options=l||{};return this;}}k.prototype.processResult=function(l,m,n){var o=[],p=l.data||l,q=m.toLowerCase();for(var r=p,s=Array.isArray(r),t=0,r=s?r:r[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var u;if(s){if(t>=r.length)break;u=r[t++];}else{t=r.next();if(t.done)break;u=t.value;}var v=u,w=v.id,x=v.name,y=new (c('SearchableEntry'))({uniqueID:w,title:x});y.disambiguationCategory=v.disambiguation_category;y.name=v.name;y.reach=v.audience_size;y.matchArray=c('AdsSearchBrowseUtils').getMatchedIndexArray(q,x.toLowerCase());y.path=v.path;if(v.path&&v.path.length){y.path=v.path.slice();y.path.pop();y.isInHierarchy=true;}y.description=v.description;y.topic=v.topic;o.push(y);if(o.length>c('AdsCreateFlowQueryLimits').TYPEAHEAD_LIMIT)break;}n(o,m);};k.prototype.searchImpl=function(l,m,n){if(!l){m([],l);return;}var o=c('GraphAPI')('2.5').search('audienceinterest').get({access_token:this.options.accessToken,q:l,locale:c('CurrentLocale').get(),whitelisted_only:this.options.whitelistedInterestsOnly});o.done(function(p){return this.processResult(p.data,l,m);}.bind(this),function(p){return false;});};k.getInstance=function(l){if(!j)j=new k(l);return j;};f.exports=k;},null);
__d('CroppedImage.react',['cx','Image.react','React'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'CroppedImage',propTypes:{center:i.shape({x:i.number.isRequired,y:i.number.isRequired}),crop:i.shape({height:i.number.isRequired,width:i.number.isRequired}).isRequired,size:i.shape({height:i.number.isRequired,width:i.number.isRequired}).isRequired,src:i.string.isRequired},getDefaultProps:function(){return {center:{x:.5,y:.5}};},_calculateMargin:function(k,l,m){return -1*Math.max(Math.min(m*l-.5*k,l-k),0);},render:function(){var k=this._calculateMargin(this.props.crop.width,this.props.size.width,this.props.center.x),l=this._calculateMargin(this.props.crop.height,this.props.size.height,this.props.center.y),m={left:k,height:this.props.size.height,top:l,width:this.props.size.width};return (c('React').createElement('div',{className:"_46-h",style:this.props.crop},c('React').createElement(c('Image.react'),{alt:this.props.alt||'',className:"_46-i",src:this.props.src,style:m})));}});f.exports=j;},null);
__d('FBNumberInput.react',['Input','React','intlNumUtils','joinClasses'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'FBNumberInput',propTypes:{nonnegative:h.bool,onValueChange:h.func.isRequired,value:h.number,defaultValue:h.number,minValue:h.number,maxValue:h.number,placeholder:h.string,formatNumber:h.bool,onlyIntegers:h.bool},render:function(){var j=this.props,k=j.value,l=j.className,m=babelHelpers.objectWithoutProperties(j,['value','className']);if(k)k=this._formatValue(k);return (c('React').createElement('input',babelHelpers['extends']({},m,{className:c('joinClasses')(l,'inputtext'),type:'text',defaultValue:k,onBlur:this._onBlur})));},_formatValue:function(j){return this.props.formatNumber?c('intlNumUtils').formatNumberWithThousandDelimiters(j,0):''+j;},_parseValue:function(j){var k=c('intlNumUtils').parseNumber(j);if(this.props.onlyIntegers)k=Math.trunc(k);return k;},_onBlur:function(event){var j=this._parseValue(c('Input').getValue(event.target)),k;if(j!==null){j=this.props.nonnegative?Math.abs(j):j;if(this.props.minValue!=null&&j<this.props.minValue){j=this.props.minValue;}else if(this.props.maxValue!=null&&j>this.props.maxValue)j=this.props.maxValue;k=this._formatValue(j);}else if(this.props.defaultValue!=null){j=this.props.defaultValue;k=this._formatValue(j);}else k='';c('Input').setValue(event.target,k);this.props.onValueChange(j);}});f.exports=i;},null);
__d('BUIFormTextInput.react',['invariant','BUIForm.react','BUITextInput.react','React'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').createClass({displayName:'BUIFormTextInput',propTypes:babelHelpers['extends']({},c('BUITextInput.react').propTypes,{density:c('BUIForm.react').propTypes.density}),render:function(){var j=this.props,k=j.density,l=babelHelpers.objectWithoutProperties(j,['density']),m=void 0;switch(k){case 'breathy':case 'svelt':m='xtall';break;case 'snug':m='tall';break;case 'taut':m='short';break;default:void 0;}return (c('React').createElement(c('BUITextInput.react'),babelHelpers['extends']({},l,{height:m})));}});f.exports=i;},null);
__d('ProgressiveDatepickerMixin',['DateConsts','TimelineInfoReviewParam','React'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i={propTypes:{descendingYears:h.bool,initialDay:function(j,k,l){var m=j.initialYear,n=j.initialMonth,o=j.initialDay;if(!o)return;var p=n&&m&&o<=c('DateConsts').getDaysInMonth(m,n);if(!p)return new Error('A valid initialYear and initialMonth must be provided if '+'initialDay is set.');return h.number.call(this,j,k,l);},initialMonth:function(j,k,l){if(j.initialMonth&&!j.initialYear)return new Error('A valid initialYear must be provided if initialMonth is set.');return h.number.call(this,j,k,l);},initialYear:h.number,inputPrefix:h.string,maxTime:h.number.isRequired,minTime:h.number.isRequired,minTimeUnit:h.oneOf(['day','month','year']),onDateChange:h.func},getDefaultProps:function(){return {descendingYears:false,initialYear:0,initialMonth:0,initialDay:0,inputPrefix:'',minTimeUnit:'year'};},getInitialState:function(){return {day:this.props.initialDay,month:this.props.initialMonth,year:this.props.initialYear};},clearDate:function(){this.setState(this.getInitialState());},_getDayName:function(){return this.props.inputPrefix===''?c('TimelineInfoReviewParam').DAY:this.props.inputPrefix+'_'+c('TimelineInfoReviewParam').DAY;},_getMonthName:function(){return this.props.inputPrefix===''?c('TimelineInfoReviewParam').MONTH:this.props.inputPrefix+'_'+c('TimelineInfoReviewParam').MONTH;},_getYearName:function(){return this.props.inputPrefix===''?c('TimelineInfoReviewParam').YEAR:this.props.inputPrefix+'_'+c('TimelineInfoReviewParam').YEAR;},_getMinDate:function(){return new Date(this.props.minTime*c('DateConsts').MS_PER_SEC);},_getMinYear:function(){return this._getMinDate().getFullYear();},_getMinMonth:function(){return this._getMinDate().getMonth()+1;},_getMinDay:function(){return this._getMinDate().getDate();},_isMinYear:function(){return this.state.year===this._getMinYear();},_isMinYearAndMonth:function(){return this._isMinYear()&&this.state.month===this._getMinMonth();},_getMaxDate:function(){return new Date(this.props.maxTime*c('DateConsts').MS_PER_SEC);},_getMaxYear:function(){return this._getMaxDate().getFullYear();},_getMaxMonth:function(){return this._getMaxDate().getMonth()+1;},_getMaxDay:function(){return this._getMaxDate().getDate();},_isMaxYear:function(){return this.state.year===this._getMaxYear();},_isMaxYearAndMonth:function(){return this._isMaxYear()&&this.state.month===this._getMaxMonth();},_getCurrentDate:function(){return new Date(this.state.year,!this.state.month?0:this.state.month-1,this.state.year&&!this.state.day?1:this.state.day).getTime();},getCurrentDateInSeconds:function(){return this._getCurrentDate()/c('DateConsts').MS_PER_SEC;},getMaxPossibleDateInSeconds:function(){var j={year:this.state.year,month:this.state.month,day:this.state.day};if(!j.day)if(j.month){j.month+=1;}else if(j.year){j.year+=1;j.day=1;}var k=new Date(j.year,!j.month?0:j.month-1,j.day);return k.getTime()/c('DateConsts').MS_PER_SEC;},_onYearChange:function(event){var j=event.target?event.target.value:event.value;this._onDateChange({year:parseInt(j,10),month:this.state.month,day:this.state.day});},_onMonthChange:function(event){var j=event.target?event.target.value:event.value;this._onDateChange({year:this.state.year,month:parseInt(j,10),day:this.state.day});},_onDayChange:function(event){var j=event.target?event.target.value:event.value;this._onDateChange({year:this.state.year,month:this.state.month,day:parseInt(j,10)});},_onDateChange:function(j){var k=this._getValidDate(j);this.setState(k,function(){this.props.onDateChange&&this.props.onDateChange(k);}.bind(this));},_getValidDate:function(j,k,l){if(typeof k==='undefined')k=new Date(this.props.minTime*c('DateConsts').MS_PER_SEC);if(typeof l==='undefined')l=new Date(this.props.maxTime*c('DateConsts').MS_PER_SEC);var m=j.year,n=j.month,o=j.day;if(m){if(m<=k.getFullYear()){m=k.getFullYear();if(n&&n<=k.getMonth()+1){n=k.getMonth()+1;if(o&&o<k.getDate())o=k.getDate();}}else if(m>=l.getFullYear()){m=l.getFullYear();if(n&&n>=l.getMonth()+1){n=l.getMonth()+1;if(o&&o>l.getDate())o=l.getDate();}}if(n){if(o&&o>c('DateConsts').getDaysInMonth(m,n))o=c('DateConsts').getDaysInMonth(m,n);}else o=0;}else n=o=0;return {year:m,month:n,day:o};},componentWillReceiveProps:function(j){var k=new Date(j.minTime*c('DateConsts').MS_PER_SEC),l=new Date(j.maxTime*c('DateConsts').MS_PER_SEC);this.setState(this._getValidDate(this.state,k,l));}};f.exports=i;},null);
__d('XUIProgressiveDatepicker.react',['cx','DateConsts','DateStrings','ProgressiveDatepickerMixin','React','InlineBlock.react','XUISelector.react'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('XUISelector.react').Option,j=c('React').createClass({displayName:'TimelineProgressiveDatepicker',mixins:[c('ProgressiveDatepickerMixin')],render:function(){var k=[];for(var l=this._getMinYear();l<=this._getMaxYear();l++){var m=c('React').createElement(i,{key:l,title:l,value:l},l);this.props.descendingYears?k.unshift(m):k.push(m);}k.unshift(c('React').createElement(i,{key:0,title:c('DateStrings').getYearLabel(),value:0},c('DateStrings').getYearLabel()));var n=null;if(this.state.year||this.props.minTimeUnit!=='year'){var o=[c('React').createElement(i,{key:0,title:c('DateStrings').getMonthLabel(),value:0},c('DateStrings').getMonthLabel())],p=1,q=c('DateConsts').MONTHS_PER_YEAR;if(this._isMinYear())p=this._getMinMonth();if(this._isMaxYear())q=this._getMaxMonth();for(var r=p;r<=q;r++){var s=c('DateStrings').getMonthName(r);o.push(c('React').createElement(i,{key:r,title:s,value:r},s));}n=c('React').createElement(c('XUISelector.react'),{className:"_5vu1",'data-testid':'ProgressiveDatepicker/monthSelector',disabled:!this.state.year,maxheight:this.props.menuMaxHeight,name:this._getMonthName(),onChange:this._onMonthChange,value:this.state.month},o);}var t=null;if(this.state.month||this.props.minTimeUnit==='day'){var u=[c('React').createElement(i,{key:0,title:c('DateStrings').getDayLabel(),value:0},c('DateStrings').getDayLabel())],v=1,w=c('DateConsts').getDaysInMonth(this.state.year,this.state.month);if(this._isMinYearAndMonth())v=this._getMinDay();if(this._isMaxYearAndMonth())w=this._getMaxDay();for(var x=v;x<=w;x++)u.push(c('React').createElement(i,{key:x,title:x,value:x},x));t=c('React').createElement(c('XUISelector.react'),{className:"_5vu1",'data-testid':'ProgressiveDatepicker/daySelector',disabled:!this.state.month,maxheight:this.props.menuMaxHeight,name:this._getDayName(),onChange:this._onDayChange,value:this.state.day},u);}return (c('React').createElement(c('InlineBlock.react'),null,c('React').createElement(c('XUISelector.react'),{'data-testid':'ProgressiveDatepicker/yearSelector',maxheight:this.props.menuMaxHeight,name:this._getYearName(),onChange:this._onYearChange,value:this.state.year},k),n,t));}});f.exports=j;},null);
__d('VideoUploadLeaveConfirmationDialog.react',['fbt','React','ReactLayeredComponentMixin','XUIDialog.react','XUIDialogTitle.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogButton.react'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'VideoUploadLeaveConfirmationDialog',mixins:[c('ReactLayeredComponentMixin')],propTypes:{onContinue:i.func,onCancel:i.func},renderLayers:function(){return {dialog:c('React').createElement(c('XUIDialog.react'),{shown:true,layerHideOnBlur:false,width:700},c('React').createElement(c('XUIDialogTitle.react'),null,h._("Discard Post?")),c('React').createElement(c('XUIDialogBody.react'),null,h._("If you leave now, this post will be discarded. To save your post, choose one of the options under the Publish button.")),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{label:h._("Return to Post"),onClick:this.props.onContinue}),c('React').createElement(c('XUIDialogButton.react'),{use:'confirm',action:'cancel',label:h._("Discard"),onClick:this.props.onCancel})))};},render:function(){return c('React').createElement('div',null);}});f.exports=j;},null);
__d('VideoPermalinkText.react',['cx','React','URI'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.$VideoPermalinkText1=function(){'use strict';return new (c('URI'))('/video.php').addQueryData('v',this.props.videoID).getQualifiedURI().toString();};k.prototype.render=function(){'use strict';return (c('React').createElement('div',{className:"_9_1"},this.$VideoPermalinkText1()));};function k(){'use strict';i.apply(this,arguments);}f.exports=k;},null);
__d('VideoUploadProcessingDialog.react',['fbt','ActorURI','PublishingToolsSource','React','ReactLayeredComponentMixin','VideoEditSource','VideoLibraryButton.react','VideoLibrarySource','VideoPermalinkText.react','XUIDialog.react','XUIDialogTitle.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogCloseButton.react','XUIDialogButton.react','XVideoEditController','XVideoEditDialogController'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'VideoUploadProcessingDialog',mixins:[c('ReactLayeredComponentMixin')],propTypes:{onClose:i.func,shouldShowNewEditDialog:i.bool,isReferenceVideo:i.bool,shouldShowVideoLibrary:i.bool},getInitialState:function(){return {dialogShown:true};},_onToggle:function(k){this.setState({dialogShown:k});if(!k&&this.props.onClose)this.props.onClose();},_onEditVideoButtonClick:function(){this.setState({dialogShown:false});},componentWillReceiveProps:function(k){if(k.show)this.setState({dialogShown:true});},_getProcessingText:function(){if(this.props.isReferenceVideo){return h._("Your reference file is now processing. We will send you a notification when it's ready and monitored.");}else if(this.props.isSecretVideo){return (c('React').createElement('div',null,h._("Your secret video is now processing. We will notify you when it is it ready to view at the following location:"),c('React').createElement(c('VideoPermalinkText.react'),{videoID:this.props.videoID})));}else return h._("Your video is now processing. We will send you a notification when it's ready to view.");},_getTitle:function(){return this.props.isSecretVideo?h._("Processing Secret Video"):h._("Processing Video");},renderLayers:function(){var k,l=h._("Edit Video"),m;if(this.props.isReferenceVideo){m=null;}else if(this.props.shouldShowNewEditDialog&&this.props.pageID){k=c('XVideoEditDialogController').getURIBuilder().setInt('video_id',this.props.videoID).setEnum('source',c('VideoEditSource').PROCESSING_DIALOG).getURI();k=c('ActorURI').create(k,this.props.pageID);m=c('React').createElement(c('XUIDialogButton.react'),{action:'confirm',label:l,href:k,onClick:this._onEditVideoButtonClick,rel:'dialog'});}else{k=c('XVideoEditController').getURIBuilder().setInt('v',this.props.videoID).setEnum('source',c('VideoEditSource').PROCESSING_DIALOG).getURI();m=c('React').createElement(c('XUIDialogButton.react'),{action:'confirm',label:l,href:k,onClick:this._onEditVideoButtonClick,target:'_blank'});}var n=null;if(this.props.shouldShowVideoLibrary)n=c('React').createElement(c('VideoLibraryButton.react'),{pageID:this.props.pageID,size:'medium',source:c('VideoLibrarySource').VIDEO_UPLOAD_CONFIRMATION_DIALOG,refSource:c('PublishingToolsSource').VIDEO_UPLOAD_CONFIRMATION_DIALOG});return {dialog:c('React').createElement(c('XUIDialog.react'),{shown:this.state.dialogShown,width:400,onToggle:this._onToggle},c('React').createElement(c('XUIDialogTitle.react'),null,this._getTitle()),c('React').createElement(c('XUIDialogBody.react'),null,this._getProcessingText()),c('React').createElement(c('XUIDialogFooter.react'),{leftContent:n},c('React').createElement(c('XUIDialogCloseButton.react'),null),m))};},render:function(){return c('React').createElement('span',null);}});f.exports=j;},null);
__d('ComposerXVideoUploadDialog.react',['cx','ix','fbt','Arbiter','DOMContainer.react','Image.react','React','ReactLayeredComponentMixin','SubscriptionsHandler','VideoUploadProcessingDialog.react','XUICloseButton.react','XUIDialog.react','XUIDialogBody.react','XUIDialogTitle.react','VideoUploadLeaveConfirmationDialog.react','OptimisticVideoPostUtils','setImmediate','getViewportDimensions'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=770,m=489,n=550,o=c('React').createClass({displayName:'ComposerXVideoUploadDialog',mixins:[c('ReactLayeredComponentMixin')],_subscriptionsHandler:null,propTypes:{composer:k.object.isRequired,composerID:k.string.isRequired,canShowOptimisticPost:k.bool,showProcessingDialog:k.bool,onCancel:k.func,onComplete:k.func,onDone:k.func,compactMode:k.bool,isReferenceVideo:k.bool},getDefaultProps:function(){return {canShowOptimisticPost:false,showProcessingDialog:true,compactMode:false,isReferenceVideo:false};},getInitialState:function(){return {stage:'editing',videoID:null,showLeaveConfirmationDialog:false,showThrobber:false,shouldShowNewEditDialog:false,pageID:null,isSecretVideo:false,shouldShowVideoLibrary:false};},componentDidMount:function(){var p=new (c('SubscriptionsHandler'))();this._subscriptionsHandler=p;p.addSubscriptions(c('Arbiter').subscribe('videoUpload/started',function(q){this.setState({stage:'editing',videoID:null});}.bind(this)),c('Arbiter').subscribe('videoUpload/complete',function(q,r){if(this.props.onComplete)this.props.onComplete(r.videoID);var s=this.props.showProcessingDialog&&(!this.props.canShowOptimisticPost||!c('OptimisticVideoPostUtils').shouldShowOptimisticPost(r));this.setState({stage:'finished',videoID:r.videoID,shouldShowVideoUploadProcessingDialog:s,shouldShowNewEditDialog:!!r.shouldShowNewEditDialog,pageID:r.pageID,isSecretVideo:r.isSecret,shouldShowVideoLibrary:!!r.shouldShowVideoLibrary});}.bind(this)),c('Arbiter').subscribe('videoUpload/showThrobber',function(q,r){if(this.props.composerID===r.composerID)this.setState({showThrobber:true});}.bind(this)),c('Arbiter').subscribe('videoUpload/hideThrobber',function(q,r){if(this.props.composerID===r.composerID)this.setState({showThrobber:false});}.bind(this)));},componentWillUnmount:function(){if(this._subscriptionsHandler)this._subscriptionsHandler.release();},onCancelPostingClick:function(){this.setState({showLeaveConfirmationDialog:false});if(this.props&&this.props.onCancel)this.props.onCancel();},onContinuePostingClick:function(){this.setState({showLeaveConfirmationDialog:false});},onComposerDialogClose:function(){this.setState({showLeaveConfirmationDialog:true});},onDone:function(){if(this.props&&this.props.onDone){var p=this.props.onDone;c('setImmediate')(function(){return p({videoID:this.state.videoID});}.bind(this));}},renderLayers:function(){if(this.state.stage=='finished'){if(!this.state.shouldShowVideoUploadProcessingDialog){this.onDone();return {};}return {dialog:c('React').createElement(c('VideoUploadProcessingDialog.react'),{videoID:this.state.videoID,onClose:this.onDone,show:true,shouldShowNewEditDialog:this.state.shouldShowNewEditDialog,pageID:this.state.pageID,isReferenceVideo:this.props.isReferenceVideo,isSecretVideo:this.state.isSecretVideo,shouldShowVideoLibrary:this.state.shouldShowVideoLibrary})};}else{var p;if(this.props.isReferenceVideo){p=j._("Add Reference File");}else p=j._("Upload Video");var q=c('getViewportDimensions')().height>n?100:30;return {dialog:c('React').createElement(c('XUIDialog.react'),{shown:true,layerHideOnBlur:false,width:this.props.compactMode?m:l,fixedTopPosition:q},c('React').createElement(c('XUIDialogTitle.react'),{showCloseButton:false},p,c('React').createElement('div',{className:"_51-u"},this.renderThrobber(),c('React').createElement(c('XUICloseButton.react'),{onClick:this.onComposerDialogClose,className:"_51-t"}))),c('React').createElement(c('XUIDialogBody.react'),{useCustomPadding:true},c('React').createElement(c('DOMContainer.react'),null,this.props.composer)))};}},renderThrobber:function(){return (c('React').createElement(c('Image.react'),{className:"_2z4p"+(this.state.showThrobber?' '+"_2z4q":''),src:i('/images/loaders/indicator_blue_small.gif')}));},render:function(){var p;if(this.state.showLeaveConfirmationDialog)p=c('React').createElement(c('VideoUploadLeaveConfirmationDialog.react'),{onContinue:this.onContinuePostingClick,onCancel:this.onCancelPostingClick});return (c('React').createElement('div',null,p));}});f.exports=o;},null);
__d("XComposerXVideoUploadDialogController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/composerx\/video\/dialog\/",{target_id:{type:"FBID",required:true},source_id:{type:"String",required:true},entry_point:{type:"Enum",required:true,enumType:1},is_reference_video:{type:"Bool",defaultValue:false}});},null);
__d('ComposerXVideoUploadDialogController',['ActorURI','Arbiter','AsyncDialog','AsyncRequest','ComposerEntryPointRef','ComposerXVideoUploadDialog.react','DOM','React','ReactDOM','XComposerXVideoUploadDialogController'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={};function i(n){return h[n];}function j(n){h[n.getID()]=n;}function k(n){return n in h;}var l=c('ComposerEntryPointRef').TIMELINE;function m(n,o,p,q,r,s,t){'use strict';this.$ComposerXVideoUploadDialogController1=n;this.$ComposerXVideoUploadDialogController2=o;this.$ComposerXVideoUploadDialogController3=p;this.$ComposerXVideoUploadDialogController4=q;this.$ComposerXVideoUploadDialogController5=r;this.$ComposerXVideoUploadDialogController6=s;this.$ComposerXVideoUploadDialogController7=t;this.$ComposerXVideoUploadDialogController8=m.$ComposerXVideoUploadDialogController9(this.$ComposerXVideoUploadDialogController1,this.$ComposerXVideoUploadDialogController3,this.$ComposerXVideoUploadDialogController6);this.$ComposerXVideoUploadDialogController10=false;this.$ComposerXVideoUploadDialogController11=c('DOM').create('span');c('DOM').appendContent(document.body,this.$ComposerXVideoUploadDialogController11);this.$ComposerXVideoUploadDialogController12();}m.prototype.getID=function(){'use strict';return this.$ComposerXVideoUploadDialogController8;};m.prototype.setFileInput=function(n){'use strict';this.$ComposerXVideoUploadDialogController2=n;};m.prototype.$ComposerXVideoUploadDialogController13=function(n){'use strict';this.$ComposerXVideoUploadDialogController14=n;if(this.$ComposerXVideoUploadDialogController15)this.show();};m.prototype.$ComposerXVideoUploadDialogController12=function(){'use strict';var n=c('XComposerXVideoUploadDialogController').getURIBuilder().setFBID('target_id',this.$ComposerXVideoUploadDialogController1).setString('source_id',this.$ComposerXVideoUploadDialogController8).setEnum('entry_point',this.$ComposerXVideoUploadDialogController3).setBool('is_reference_video',this.$ComposerXVideoUploadDialogController7).getURI();n=c('ActorURI').create(n,this.$ComposerXVideoUploadDialogController1);c('AsyncDialog').send(new (c('AsyncRequest'))(n));};m.prototype.$ComposerXVideoUploadDialogController16=function(){'use strict';c('ReactDOM').render(c('React').createElement(c('ComposerXVideoUploadDialog.react'),{canShowOptimisticPost:this.$ComposerXVideoUploadDialogController5,composer:this.$ComposerXVideoUploadDialogController14,composerID:this.$ComposerXVideoUploadDialogController8,isReferenceVideo:this.$ComposerXVideoUploadDialogController7,showProcessingDialog:this.$ComposerXVideoUploadDialogController4,onCancel:this.$ComposerXVideoUploadDialogController17.bind(this),onDone:this.$ComposerXVideoUploadDialogController18.bind(this)}),this.$ComposerXVideoUploadDialogController11);this.$ComposerXVideoUploadDialogController10=true;};m.prototype.show=function(){'use strict';if(this.$ComposerXVideoUploadDialogController14){this.$ComposerXVideoUploadDialogController15=false;c('Arbiter').inform('ComposerXFilesStore/filesAdded/'+this.$ComposerXVideoUploadDialogController8+'/videoupload',{fileInput:this.$ComposerXVideoUploadDialogController2},c('Arbiter').BEHAVIOR_PERSISTENT);this.$ComposerXVideoUploadDialogController16();}else this.$ComposerXVideoUploadDialogController15=true;};m.prototype.$ComposerXVideoUploadDialogController17=function(){'use strict';c('Arbiter').inform('videoUpload/cancel',{composerID:this.$ComposerXVideoUploadDialogController8});this.hide();};m.prototype.$ComposerXVideoUploadDialogController18=function(n){'use strict';this.hide();};m.prototype.hide=function(){'use strict';c('ReactDOM').unmountComponentAtNode(this.$ComposerXVideoUploadDialogController11);this.$ComposerXVideoUploadDialogController10=false;};m.$ComposerXVideoUploadDialogController9=function(n,o,p){'use strict';if(p){return p;}else return o+'_'+n;};m.showDialog=function(n){'use strict';n.composerEntryPointRef=n.composerEntryPointRef||l;var o=m.$ComposerXVideoUploadDialogController9(n.targetID,n.composerEntryPointRef,n.originalComposerID);if(!k(o)){j(new m(n.targetID,n.fileInput,n.composerEntryPointRef,n.showProcessingDialog||false,n.canShowOptimisticPost||false,n.originalComposerID||'',n.isReferenceVideoUpload||false));}else i(o).setFileInput(n.fileInput);i(o).show();};m.setVideoComposer=function(n,o){'use strict';if(h[n])h[n].$ComposerXVideoUploadDialogController13(o);};f.exports=m;},null);
__d('VideoComposerUploadFileInput',['ComposerXVideoUploadDialogController'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k,l){'use strict';i.subscribe('change',function(m,event){var n=false,o=false;if(l){n=l.showProcessingDialog;o=l.canShowOptimisticPost;}c('ComposerXVideoUploadDialogController').showDialog({targetID:j,fileInput:i,composerEntryPointRef:k,showProcessingDialog:n,canShowOptimisticPost:o});});}f.exports=h;},null);