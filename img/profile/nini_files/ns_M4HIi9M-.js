if (self.CavalryLogger) { CavalryLogger.start_js(["nMZZQ"]); }

__d('SphericalImageGyro',['Event','SphericalGyroOverlay','VisibilityObserver'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('VisibilityObserver').instance;function i(j,k){this.$SphericalImageGyro5=j;this.$SphericalImageGyro6=k;if(this.$SphericalImageGyro6.complete)return;c('Event').listen(this.$SphericalImageGyro6,'load',function(){return this.$SphericalImageGyro7();}.bind(this));this.$SphericalImageGyro4=new (c('SphericalGyroOverlay'))(this.$SphericalImageGyro5,true);this.$SphericalImageGyro3=[h.addListener(j,c('VisibilityObserver').VISIBILITY_CHANGE.visiblestart,function(){return this.$SphericalImageGyro8();}.bind(this)),h.addListener(j,c('VisibilityObserver').VISIBILITY_CHANGE.visibleend,function(){return this.$SphericalImageGyro9();}.bind(this))].map(function(l){return function(){return l.remove();};});}i.prototype.$SphericalImageGyro8=function(){if(this.$SphericalImageGyro2)return;if(!this.$SphericalImageGyro1){this.$SphericalImageGyro10();}else this.$SphericalImageGyro11();};i.prototype.$SphericalImageGyro9=function(){if(this.$SphericalImageGyro2)return;if(this.$SphericalImageGyro1){this.$SphericalImageGyro12();}else this.$SphericalImageGyro13();};i.prototype.$SphericalImageGyro13=function(){if(this.$SphericalImageGyro4)this.$SphericalImageGyro4.pauseAnimation();};i.prototype.$SphericalImageGyro11=function(){if(this.$SphericalImageGyro4)this.$SphericalImageGyro4.restartAnimation();};i.prototype.$SphericalImageGyro12=function(){if(this.$SphericalImageGyro4){this.$SphericalImageGyro4.stopAnimation();this.$SphericalImageGyro4=null;}};i.prototype.$SphericalImageGyro7=function(){this.$SphericalImageGyro12();this.$SphericalImageGyro2=true;this.$SphericalImageGyro3.forEach(function(j){return j();});};i.prototype.$SphericalImageGyro10=function(){this.$SphericalImageGyro1=true;if(this.$SphericalImageGyro4)this.$SphericalImageGyro4.startAnimation();};f.exports=i;},null);