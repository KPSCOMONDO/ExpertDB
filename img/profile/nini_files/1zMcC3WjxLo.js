if (self.CavalryLogger) { CavalryLogger.start_js(["EiWqj"]); }

__d("VideoThumbnailSource",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CUSTOM:"custom",GENERATED_DEFAULT:"generated_default",GENERATED_SELECTED:"generated_selected"};},null);
__d("VideoUploadUILoggerEvents",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={VIDEO_FILE_SELECTED:"video_file_selected",TAB_SWITCH:"tab_switch",CAPTION_UPLOAD_BUTTON_CLICKED:"caption_upload_button_clicked",CAPTION_SELECTED:"caption_selected",CAPTION_REMOVED:"caption_removed",CAPTION_DEFAULT_LOCALE_CHANGED:"caption_default_locale_changed",CAPTION_ERROR:"caption_error",CONTENT_TAGS_SELECTED:"content_tags_selected",CONTENT_TAGS_REMOVED:"content_tags_removed",PERMISSIONS_CHANGED:"permissions_changed"};},null);
__d('countries.instagram',['fbt'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={AD:h._("Andorra"),AE:h._("United Arab Emirates"),AF:h._("Afghanistan"),AG:h._("Antigua"),AI:h._("Anguilla"),AL:h._("Albania"),AM:h._("Armenia"),AN:h._("Netherlands Antilles"),AO:h._("Angola"),AQ:h._("Antarctica"),AR:h._("Argentina"),AS:h._("American Samoa"),AT:h._("Austria"),AU:h._("Australia"),AW:h._("Aruba"),AX:h._("Aland Islands"),AZ:h._("Azerbaijan"),BA:h._("Bosnia and Herzegovina"),BB:h._("Barbados"),BD:h._("Bangladesh"),BE:h._("Belgium"),BF:h._("Burkina Faso"),BG:h._("Bulgaria"),BH:h._("Bahrain"),BI:h._("Burundi"),BJ:h._("Benin"),BM:h._("Bermuda"),BN:h._("Brunei"),BO:h._("Bolivia"),BR:h._("Brazil"),BS:h._("The Bahamas"),BT:h._("Bhutan"),BW:h._("Botswana"),BY:h._("Belarus"),BZ:h._("Belize"),CA:h._("Canada"),CD:h._("Democratic Republic of the Congo"),CF:h._("Central African Republic"),CG:h._("Republic of the Congo"),CH:h._("Switzerland"),CI:h._("Cote d'Ivoire"),CK:h._("Cook Islands"),CL:h._("Chile"),CM:h._("Cameroon"),CN:h._("China"),CO:h._("Colombia"),CR:h._("Costa Rica"),CU:h._("Cuba"),CV:h._("Cape Verde"),CX:h._("Christmas Island"),CY:h._("Cyprus"),CZ:h._("Czech Republic"),DE:h._("Germany"),DJ:h._("Djibouti"),DK:h._("Denmark"),DM:h._("Dominica"),DO:h._("Dominican Republic"),DZ:h._("Algeria"),EC:h._("Ecuador"),EE:h._("Estonia"),EG:h._("Egypt"),EH:h._("Western Sahara"),ER:h._("Eritrea"),ES:h._("Spain"),ET:h._("Ethiopia"),FI:h._("Finland"),FJ:h._("Fiji"),FK:h._("Falkland Islands"),FM:h._("Federated States of Micronesia"),FO:h._("Faroe Islands"),FR:h._("France"),GA:h._("Gabon"),GB:h._("United Kingdom"),GD:h._("Grenada"),GE:h._("Georgia"),GF:h._("French Guiana"),GG:h._("Guernsey"),GH:h._("Ghana"),GI:h._("Gibraltar"),GL:h._("Greenland"),GM:h._("The Gambia"),GN:h._("Guinea"),GP:h._("Guadeloupe"),GQ:h._("Equatorial Guinea"),GR:h._("Greece"),GT:h._("Guatemala"),GU:h._("Guam"),GW:h._("Guinea-Bissau"),GY:h._("Guyana"),HK:h._("Hong Kong"),HN:h._("Honduras"),HR:h._("Croatia"),HT:h._("Haiti"),HU:h._("Hungary"),ID:h._("Indonesia"),IE:h._("Ireland"),IL:h._("Israel"),IM:h._("Isle of Man"),IN:h._("India"),IQ:h._("Iraq"),IR:h._("Iran"),IS:h._("Iceland"),IT:h._("Italy"),JE:h._("Jersey, Channel Islands"),JM:h._("Jamaica"),JO:h._("Jordan"),JP:h._("Japan"),KE:h._("Kenya"),KG:h._("Kyrgyzstan"),KH:h._("Cambodia"),KI:h._("Kiribati"),KM:h._("Comoros"),KN:h._("Saint Kitts and Nevis"),KP:h._("North Korea"),KR:h._("South Korea"),KW:h._("Kuwait"),KY:h._("Cayman Islands"),KZ:h._("Kazakhstan"),LA:h._("Laos"),LB:h._("Lebanon"),LC:h._("St. Lucia"),LI:h._("Liechtenstein"),LK:h._("Sri Lanka"),LR:h._("Liberia"),LS:h._("Lesotho"),LT:h._("Lithuania"),LU:h._("Luxembourg"),LV:h._("Latvia"),LY:h._("Libya"),MA:h._("Morocco"),MC:h._("Monaco"),MD:h._("Moldova"),ME:h._("Montenegro"),MG:h._("Madagascar"),MH:h._("Marshall Islands"),MK:h._("Macedonia"),ML:h._("Mali"),MM:h._("Myanmar"),MN:h._("Mongolia"),MO:h._("Macau"),MP:h._("Northern Mariana Islands"),MQ:h._("Martinique"),MR:h._("Mauritania"),MS:h._("Montserrat"),MT:h._("Malta"),MU:h._("Mauritius"),MV:h._("Maldives"),MW:h._("Malawi"),MX:h._("Mexico"),MY:h._("Malaysia"),MZ:h._("Mozambique"),NA:h._("Namibia"),NC:h._("New Caledonia"),NE:h._("Niger"),NF:h._("Norfolk Island"),NG:h._("Nigeria"),NI:h._("Nicaragua"),NL:h._("Netherlands"),NO:h._("Norway"),Not:h._("Not available"),NP:h._("Nepal"),NR:h._("Nauru"),NU:h._("Niue"),NZ:h._("New Zealand"),OM:h._("Oman"),PA:h._("Panama"),PE:h._("Peru"),PF:h._("French Polynesia"),PG:h._("Papua New Guinea"),PH:h._("Philippines"),PK:h._("Pakistan"),PL:h._("Poland"),PR:h._("Puerto Rico"),PS:h._("Palestine"),PT:h._("Portugal"),PW:h._("Palau"),PY:h._("Paraguay"),QA:h._("Qatar"),RO:h._("Romania"),RS:h._("Serbia"),RU:h._("Russia"),RW:h._("Rwanda"),SA:h._("Saudi Arabia"),SB:h._("Solomon Islands"),SC:h._("Seychelles"),SD:h._("Sudan"),SE:h._("Sweden"),SG:h._("Singapore"),SH:h._("Saint Helena"),SI:h._("Slovenia"),SK:h._("Slovakia"),SL:h._("Sierra Leone"),SM:h._("San Marino"),SN:h._("Senegal"),SO:h._("Somalia"),SR:h._("Suriname"),ST:h._("Sao Tome and Principe"),SV:h._("El Salvador"),SY:h._("Syria"),SZ:h._("Swaziland"),TC:h._("Turks and Caicos Islands"),TD:h._("Chad"),TG:h._("Togo"),TH:h._("Thailand"),TJ:h._("Tajikistan"),TM:h._("Turkmenistan"),TN:h._("Tunisia"),TO:h._("Tonga"),TP:h._("East Timor"),TR:h._("Turkey"),TT:h._("Trinidad and Tobago"),TV:h._("Tuvalu"),TW:h._("Taiwan"),TZ:h._("Tanzania"),UA:h._("Ukraine"),UG:h._("Uganda"),UM:h._("United States Minor Outlying Islands"),US:h._("United States"),UY:h._("Uruguay"),UZ:h._("Uzbekistan"),VA:h._("Vatican City"),VC:h._("Saint Vincent and the Grenadines"),VE:h._("Venezuela"),VG:h._("British Virgin Islands"),VI:h._("US Virgin Islands"),VN:h._("Vietnam"),VU:h._("Vanuatu"),WF:h._("Wallis And Futuna"),WS:h._("Samoa"),YE:h._("Yemen"),YT:h._("Mayotte"),ZA:h._("South Africa"),ZM:h._("Zambia"),ZW:h._("Zimbabwe")};f.exports=i;},null);
__d('ComposerVideoUploadActionType',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={SET_SOURCES:'SET_SOURCES',UPDATE_BLOCK_SOCIAL_ACTIONS:'UPDATE_BLOCK_SOCIAL_ACTIONS',UPDATE_CALL_TO_ACTION:'UPDATE_CALL_TO_ACTION',UPDATE_CAPTIONS:'UPDATE_CAPTIONS',UPDATE_CATEGORY:'UPDATE_CATEGORY',UPDATE_CONTENT_TAGS:'UPDATE_CONTENT_TAGS',UPDATE_COPYRIGHTED:'UPDATE_COPYRIGHTED',UPDATE_COPYRIGHT_MONITORING_TYPE:'UPDATE_COPYRIGHT_MONITORING_TYPE',UPDATE_COPYRIGHT_RULE_ID:'UPDATE_COPYRIGHT_RULE_ID',UPDATE_COPYRIGHT_OWNERSHIP_COUNTRIES:'UPDATE_COPYRIGHT_OWNERSHIP_COUNTRIES',UPDATE_COPYRIGHT_WHITELISTED_PARTNERS:'UPDATE_COPYRIGHT_WHITELISTED_PARTNERS',UPDATE_CUSTOM_THUMBNAIL:'UPDATE_CUSTOM_THUMBNAIL',UPDATE_DESCRIPTION:'UPDATE_DESCRIPTION',UPDATE_DIRECTORS_CUT_ENABLED:'UPDATE_DIRECTORS_CUT_ENABLED',UPDATE_DIRECTORS_CUT_KEYFRAMES:'UPDATE_DIRECTORS_CUT_KEYFRAMES',UPDATE_EMBEDDABLE:'UPDATE_EMBEDDABLE',UPDATE_EXCLUDE_NEWSFEED:'UPDATE_EXCLUDE_NEWSFEED',UPDATE_EXPIRATION:'UPDATE_EXPIRATION',UPDATE_EXPIRE:'UPDATE_EXPIRE',UPDATE_FEED_TYPE:'UPDATE_FEED_TYPE',UPDATE_FOV:'UPDATE_FOV',UPDATE_FTE_ONLY:'UPDATE_FTE_ONLY',UPDATE_GENERATED_THUMBNAILS:'UPDATE_GENERATED_THUMBNAILS',UPDATE_INITIAL_HEADING:'UPDATE_INITIAL_HEADING',UPDATE_INITIAL_PITCH:'UPDATE_INITIAL_PITCH',UPDATE_INTERNAL_VIDEO_SETTINGS:'UPDATE_INTERNAL_VIDEO_SETTINGS',UPDATE_IS_SECRET_VIDEO:'UPDATE_IS_SECRET_VIDEO',UPDATE_LAST_CAPTION_UPLOAD_ERROR_MESSAGE:'UPDATE_LAST_CAPTION_UPLOAD_ERROR_MESSAGE',UPDATE_OPT_OUT_MONETIZATION:'UPDATE_OPT_OUT_MONETIZATION',UPDATE_PERMISSIONS:'UPDATE_PERMISSIONS',UPDATE_PUBLISH:'update_publish',UPDATE_ROTATION:'update_rotation',UPDATE_SCHEDULED_PUBLISH_TIME:'UPDATE_SCHEDULED_PUBLISH_TIME',UPDATE_SPHERICAL:'UPDATE_SPHERICAL',UPDATE_TAGS:'UPDATE_TAGS',UPDATE_THUMBNAIL:'UPDATE_THUMBNAIL',UPDATE_TITLE:'UPDATE_TITLE'};},null);
__d('FileVideoThumbnail',['Promise','VideoThumbnail'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j=b.URL||b.webkitURL||{};h=babelHelpers.inherits(k,c('VideoThumbnail'));i=h&&h.prototype;function k(l){'use strict';i.constructor.call(this,null);this.$FileVideoThumbnail1=l;}k.prototype.getURL=function(){'use strict';if(!this.$FileVideoThumbnail2)this.$FileVideoThumbnail2=j.createObjectURL(this.$FileVideoThumbnail1);return this.$FileVideoThumbnail2;};k.prototype.getData=function(){'use strict';return c('Promise').resolve(this.$FileVideoThumbnail1);};f.exports=k;},null);
__d('ComposerVideoUploadStore',['Promise','ComposerVideoUploadActionType','ReactComposerStoreBase','FileVideoThumbnail','SearchableEntry','VideoCopyrightUtils','VideoThumbnailSource','VideoFeedType'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {blockSocialActions:true,captions:[],content_tags:[],copyrighted:false,copyrightMonitoringType:c('VideoCopyrightUtils').DEFAULT_MONITORING_TYPE,copyrightRuleID:null,copyrightWhitelistedPartners:[],copyrightOwnershipCountries:[],customThumbnail:null,description:'',directorsCutEnabled:false,directorsCutKeyframes:[],embeddable:true,excludeNewsfeed:false,expirationType:null,expire:false,feedType:c('VideoFeedType').NOT_HIGHLIGHTED.index,fov:60,fteOnly:false,generatedThumbnails:[],initialHeading:0,initialPitch:0,internalSetting:false,isSecretVideo:false,lastCaptionUploadErrorMessage:'',optOutMonetization:false,permissions:[],publish:false,rotation:0,scheduledPublishTime:null,sources:{},spherical:false,tags:[],thumbnail:null,title:''};},function(l){switch(l.type){case c('ComposerVideoUploadActionType').UPDATE_BLOCK_SOCIAL_ACTIONS:k&&k.$ComposerVideoUploadStore1(l);break;case c('ComposerVideoUploadActionType').UPDATE_CALL_TO_ACTION:k&&k.$ComposerVideoUploadStore2(l);break;case c('ComposerVideoUploadActionType').UPDATE_CATEGORY:k&&k.$ComposerVideoUploadStore3(l);break;case c('ComposerVideoUploadActionType').UPDATE_CONTENT_TAGS:k&&k.$ComposerVideoUploadStore4(l);break;case c('ComposerVideoUploadActionType').UPDATE_COPYRIGHTED:k&&k.$ComposerVideoUploadStore5(l);break;case c('ComposerVideoUploadActionType').UPDATE_COPYRIGHT_MONITORING_TYPE:k&&k.$ComposerVideoUploadStore6(l);break;case c('ComposerVideoUploadActionType').UPDATE_COPYRIGHT_RULE_ID:k&&k.$ComposerVideoUploadStore7(l);break;case c('ComposerVideoUploadActionType').UPDATE_COPYRIGHT_WHITELISTED_PARTNERS:k&&k.$ComposerVideoUploadStore8(l);break;case c('ComposerVideoUploadActionType').UPDATE_COPYRIGHT_OWNERSHIP_COUNTRIES:k&&k.$ComposerVideoUploadStore9(l);break;case c('ComposerVideoUploadActionType').UPDATE_CUSTOM_THUMBNAIL:k&&k.$ComposerVideoUploadStore10(l);break;case c('ComposerVideoUploadActionType').UPDATE_OPT_OUT_MONETIZATION:k&&k.$ComposerVideoUploadStore11(l);break;case c('ComposerVideoUploadActionType').UPDATE_DESCRIPTION:k&&k.$ComposerVideoUploadStore12(l);break;case c('ComposerVideoUploadActionType').UPDATE_EMBEDDABLE:k&&k.$ComposerVideoUploadStore13(l);break;case c('ComposerVideoUploadActionType').UPDATE_EXCLUDE_NEWSFEED:k&&k.$ComposerVideoUploadStore14(l);break;case c('ComposerVideoUploadActionType').UPDATE_EXPIRATION:k&&k.$ComposerVideoUploadStore15(l);break;case c('ComposerVideoUploadActionType').UPDATE_EXPIRE:k&&k.$ComposerVideoUploadStore16(l);break;case c('ComposerVideoUploadActionType').UPDATE_FTE_ONLY:k&&k.$ComposerVideoUploadStore17(l);break;case c('ComposerVideoUploadActionType').UPDATE_INTERNAL_VIDEO_SETTINGS:k&&k.$ComposerVideoUploadStore18(l);break;case c('ComposerVideoUploadActionType').UPDATE_IS_SECRET_VIDEO:k&&k.$ComposerVideoUploadStore19(l);break;case c('ComposerVideoUploadActionType').UPDATE_PUBLISH:k&&k.$ComposerVideoUploadStore20(l);break;case c('ComposerVideoUploadActionType').UPDATE_ROTATION:k&&k.$ComposerVideoUploadStore21(l);break;case c('ComposerVideoUploadActionType').UPDATE_SCHEDULED_PUBLISH_TIME:k&&k.$ComposerVideoUploadStore22(l);break;case c('ComposerVideoUploadActionType').UPDATE_SPHERICAL:k&&k.$ComposerVideoUploadStore23(l);break;case c('ComposerVideoUploadActionType').UPDATE_INITIAL_HEADING:k&&k.$ComposerVideoUploadStore24(l);break;case c('ComposerVideoUploadActionType').UPDATE_INITIAL_PITCH:k&&k.$ComposerVideoUploadStore25(l);break;case c('ComposerVideoUploadActionType').UPDATE_FOV:k&&k.$ComposerVideoUploadStore26(l);break;case c('ComposerVideoUploadActionType').UPDATE_TAGS:k&&k.$ComposerVideoUploadStore27(l);break;case c('ComposerVideoUploadActionType').UPDATE_THUMBNAIL:k&&k.$ComposerVideoUploadStore28(l);break;case c('ComposerVideoUploadActionType').UPDATE_TITLE:k&&k.$ComposerVideoUploadStore29(l);break;case c('ComposerVideoUploadActionType').UPDATE_FEED_TYPE:k&&k.$ComposerVideoUploadStore30(l);break;case c('ComposerVideoUploadActionType').UPDATE_GENERATED_THUMBNAILS:k&&k.$ComposerVideoUploadStore31(l);break;case c('ComposerVideoUploadActionType').SET_SOURCES:k&&k.$ComposerVideoUploadStore32(l);break;case c('ComposerVideoUploadActionType').UPDATE_CAPTIONS:k&&k.$ComposerVideoUploadStore33(l);break;case c('ComposerVideoUploadActionType').UPDATE_LAST_CAPTION_UPLOAD_ERROR_MESSAGE:k&&k.$ComposerVideoUploadStore34(l);break;case c('ComposerVideoUploadActionType').UPDATE_DIRECTORS_CUT_ENABLED:k&&k.$ComposerVideoUploadStore35(l);break;case c('ComposerVideoUploadActionType').UPDATE_DIRECTORS_CUT_KEYFRAMES:k&&k.$ComposerVideoUploadStore36(l);break;case c('ComposerVideoUploadActionType').UPDATE_PERMISSIONS:k&&k.$ComposerVideoUploadStore37(l);}});k=this;}j.prototype.getBlockSocialActions=function(k){'use strict';return this.getComposerData(k).blockSocialActions;};j.prototype.getCallToAction=function(k){'use strict';return this.getComposerData(k).callToAction;};j.prototype.getCategory=function(k){'use strict';return this.getComposerData(k).category;};j.prototype.getContentTags=function(k){'use strict';return this.getComposerData(k).contentTags;};j.prototype.getCopyrighted=function(k){'use strict';return this.getComposerData(k).copyrighted;};j.prototype.getCopyrightMonitoringType=function(k){'use strict';return this.getComposerData(k).copyrightMonitoringType;};j.prototype.getCopyrightRuleID=function(k){'use strict';return this.getComposerData(k).copyrightRuleID;};j.prototype.getCopyrightWhitelistedPartners=function(k){'use strict';return this.getComposerData(k).copyrightWhitelistedPartners;};j.prototype.getCopyrightOwnershipCountries=function(k){'use strict';return this.getComposerData(k).copyrightOwnershipCountries;};j.prototype.getOptOutMonetization=function(k){'use strict';return this.getComposerData(k).optOutMonetization;};j.prototype.getCustomThumbnail=function(k){'use strict';return this.getComposerData(k).customThumbnail;};j.prototype.getDescription=function(k){'use strict';return this.getComposerData(k).description;};j.prototype.getEmbeddable=function(k){'use strict';return this.getComposerData(k).embeddable;};j.prototype.getExcludeNewsfeed=function(k){'use strict';return this.getComposerData(k).excludeNewsfeed;};j.prototype.getExpirationTime=function(k){'use strict';return this.getComposerData(k).expirationTime;};j.prototype.getExpirationType=function(k){'use strict';return this.getComposerData(k).expirationType;};j.prototype.getExpire=function(k){'use strict';return this.getComposerData(k).expire;};j.prototype.getFteOnly=function(k){'use strict';return this.getComposerData(k).fteOnly;};j.prototype.getInternalSetting=function(k){'use strict';return this.getComposerData(k).internalSetting;};j.prototype.getIsSecretVideo=function(k){'use strict';return this.getComposerData(k).isSecretVideo;};j.prototype.getPublish=function(k){'use strict';return this.getComposerData(k).publish;};j.prototype.getRotation=function(k){'use strict';return this.getComposerData(k).rotation;};j.prototype.getScheduledPublishTime=function(k){'use strict';return this.getComposerData(k).scheduledPublishTime;};j.prototype.getSpherical=function(k){'use strict';return this.getComposerData(k).spherical;};j.prototype.getInitialHeading=function(k){'use strict';return this.getComposerData(k).initialHeading;};j.prototype.getInitialPitch=function(k){'use strict';return this.getComposerData(k).initialPitch;};j.prototype.getFOV=function(k){'use strict';return this.getComposerData(k).fov;};j.prototype.getTags=function(k){'use strict';return this.getComposerData(k).tags;};j.prototype.getThumbnail=function(k){'use strict';return this.getComposerData(k).thumbnail;};j.prototype.getTitle=function(k){'use strict';return this.getComposerData(k).title;};j.prototype.getFeedType=function(k){'use strict';return this.getComposerData(k).feedType;};j.prototype.getGeneratedThumbnails=function(k){'use strict';return this.getComposerData(k).generatedThumbnails;};j.prototype.getSources=function(k){'use strict';return this.getComposerData(k).sources;};j.prototype.getCaptions=function(k){'use strict';return this.getComposerData(k).captions;};j.prototype.getLastCaptionUploadErrorMessage=function(k){'use strict';return this.getComposerData(k).lastCaptionUploadErrorMessage;};j.prototype.getDirectorsCutEnabled=function(k){'use strict';return this.getComposerData(k).directorsCutEnabled;};j.prototype.getDirectorsCutKeyframes=function(k){'use strict';return this.getComposerData(k).directorsCutKeyframes;};j.prototype.getPermissions=function(k){'use strict';return this.getComposerData(k).permissions;};j.prototype.$ComposerVideoUploadStore1=function(k){'use strict';var l=this.getComposerData(k.composerID);l.blockSocialActions=k.blockSocialActions;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore2=function(k){'use strict';var l=this.getComposerData(k.composerID);l.callToAction={ctaType:k.ctaType,ctaLink:k.ctaLink,ctaCaption:k.ctaCaption};this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore3=function(k){'use strict';var l=this.getComposerData(k.composerID);l.category=k.category;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore4=function(k){'use strict';var l=this.getComposerData(k.composerID);l.contentTags=k.contentTags;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore5=function(k){'use strict';var l=this.getComposerData(k.composerID);l.copyrighted=k.copyrighted;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore6=function(k){'use strict';var l=this.getComposerData(k.composerID);l.copyrightMonitoringType=k.copyrightMonitoringType;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore7=function(k){'use strict';var l=this.getComposerData(k.composerID);l.copyrightRuleID=k.copyrightRuleID;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore8=function(k){'use strict';var l=this.getComposerData(k.composerID);l.copyrightWhitelistedPartners=k.copyrightWhitelistedPartners;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore9=function(k){'use strict';var l=this.getComposerData(k.composerID);l.copyrightOwnershipCountries=k.copyrightOwnershipCountries;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore10=function(k){'use strict';var l=this.getComposerData(k.composerID);l.customThumbnail=k.customThumbnail;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore11=function(k){'use strict';var l=this.getComposerData(k.composerID);l.optOutMonetization=k.optOutMonetization;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore12=function(k){'use strict';var l=this.getComposerData(k.composerID);l.description=k.description;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore13=function(k){'use strict';var l=this.getComposerData(k.composerID);l.embeddable=k.embeddable;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore14=function(k){'use strict';var l=this.getComposerData(k.composerID);l.excludeNewsfeed=k.excludeNewsfeed;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore16=function(k){'use strict';var l=this.getComposerData(k.composerID);l.expire=k.expire;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore18=function(k){'use strict';var l=this.getComposerData(k.composerID);l.internalSetting=k.internalSetting;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore17=function(k){'use strict';var l=this.getComposerData(k.composerID);l.fteOnly=k.fteOnly;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore19=function(k){'use strict';var l=this.getComposerData(k.composerID);l.isSecretVideo=k.isSecretVideo;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore20=function(k){'use strict';var l=this.getComposerData(k.composerID);l.publish=k.publish;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore21=function(k){'use strict';var l=this.getComposerData(k.composerID);l.rotation=k.rotation;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore22=function(k){'use strict';var l=this.getComposerData(k.composerID);l.scheduledPublishTime=k.scheduledPublishTime;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore23=function(k){'use strict';var l=this.getComposerData(k.composerID);l.spherical=k.spherical;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore24=function(k){'use strict';var l=this.getComposerData(k.composerID);l.initialHeading=k.initialHeading;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore25=function(k){'use strict';var l=this.getComposerData(k.composerID);l.initialPitch=k.initialPitch;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore26=function(k){'use strict';var l=this.getComposerData(k.composerID);l.fov=k.fov;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore27=function(k){'use strict';var l=this.getComposerData(k.composerID);l.tags=k.tags;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore28=function(k){'use strict';var l=this.getComposerData(k.composerID);l.thumbnail=k.thumbnail;l.isThumbnailSelectedByUser=k.isSelectedByUser;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore29=function(k){'use strict';var l=this.getComposerData(k.composerID);l.title=k.title;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore30=function(k){'use strict';var l=this.getComposerData(k.composerID);l.feedType=k.feedType;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore31=function(k){'use strict';var l=this.getComposerData(k.composerID);l.generatedThumbnails=k.generatedThumbnails;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore32=function(k){'use strict';var l=this.getComposerData(k.composerID);l.sources=k.sources;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore33=function(k){'use strict';var l=this.getComposerData(k.composerID);l.captions=k.captions;l.lastCaptionUploadErrorMessage='';this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore34=function(k){'use strict';var l=this.getComposerData(k.composerID);l.lastCaptionUploadErrorMessage=k.lastCaptionUploadErrorMessage;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore15=function(k){'use strict';var l=this.getComposerData(k.composerID);l.expirationTime=k.expirationTime;l.expirationType=k.expirationType;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore35=function(k){'use strict';var l=this.getComposerData(k.composerID);l.directorsCutEnabled=k.directorsCutEnabled;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore36=function(k){'use strict';var l=this.getComposerData(k.composerID);l.directorsCutKeyframes=k.directorsCutKeyframes;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore37=function(k){'use strict';var l=this.getComposerData(k.composerID);l.permissions=k.permissions;this.emitChange(k.composerID);};j.prototype.$ComposerVideoUploadStore38=function(k){'use strict';if(!k||k.length<=0)return [];return k.map(function(l){return l.getUniqueID();});};j.prototype.getPostData=function(k){'use strict';var l=this.getComposerData(k),m=l.tags.map(function(p){return p.getUniqueID();}),n=l.permissions.length>0?l.permissions[0].allow:false,o={always_generate_thumbnails:false,composertags_with:undefined,content_category:l.category,content_tags:this.$ComposerVideoUploadStore38(l.contentTags||[]),copyrighted:l.copyrighted,copyrightMonitoringType:l.copyrightMonitoringType,copyrightRuleID:l.copyrightRuleID,copyrightWhitelistedPartners:l.copyrightWhitelistedPartners,copyrightOwnershipCountries:l.copyrightOwnershipCountries,opt_out_monetization:l.optOutMonetization,video_title:l.title,feed_type:l.feedType,xhpc_message:l.description,thumbnail_type:undefined,user_uploaded_custom_thumbnail_timestamp:undefined,thumb:undefined,embeddable:l.embeddable,no_story:l.excludeNewsfeed,secret:l.isSecretVideo,social_actions:!l.blockSocialActions,spherical:l.spherical,initialHeading:l.initialHeading,initialPitch:l.initialPitch,fov:l.fov,directors_cut_enabled:l.directorsCutEnabled,directors_cut_keyframes:l.directorsCutKeyframes,internal_video:l.internalSetting,fte_only:l.fteOnly,captions:l.captions,monitoring_type:l.copyrightMonitoringType,shared_with_business:n};if(m.length>0){o.composertags_with=m;}else delete o.composertags_with;if(l.thumbnail){o.always_generate_thumbnails=true;if(l.thumbnail instanceof c('FileVideoThumbnail')){o.thumbnail_type=c('VideoThumbnailSource').CUSTOM;}else if(l.isThumbnailSelectedByUser){o.thumbnail_type=c('VideoThumbnailSource').GENERATED_SELECTED;o.user_uploaded_custom_thumbnail_timestamp=l.thumbnail.getTime();}else o.thumbnail_type=c('VideoThumbnailSource').GENERATED_DEFAULT;return l.thumbnail.getData().then(function(p){o.thumb=p;return o;});}else return c('Promise').resolve(o);};f.exports=new j();},null);
__d('ComposerVideoUploadActions',['ComposerVideoUploadActionType','ReactComposerDispatcher','SearchableEntry','ComposerVideoUploadStore'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c('ComposerVideoUploadStore');h.prototype.updateBlockSocialActions=function(i,j){'use strict';var k={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_BLOCK_SOCIAL_ACTIONS,blockSocialActions:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.updateCallToAction=function(i,j,k,l){'use strict';var m={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_CALL_TO_ACTION,ctaType:j,ctaLink:k,ctaCaption:l};c('ReactComposerDispatcher').dispatch(m);};h.prototype.updateCategory=function(i,j){'use strict';var k={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_CATEGORY,category:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.updateContentTags=function(i,j){'use strict';var k={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_CONTENT_TAGS,contentTags:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.updateCopyrighted=function(i,j){'use strict';var k={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_COPYRIGHTED,copyrighted:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.updateCopyrightMonitoringType=function(i,j){'use strict';var k={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_COPYRIGHT_MONITORING_TYPE,copyrightMonitoringType:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.updateCopyrightRuleID=function(i,j){'use strict';var k={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_COPYRIGHT_RULE_ID,copyrightRuleID:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.updateCopyrightWhitelistedPartners=function(i,j){'use strict';var k={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_COPYRIGHT_WHITELISTED_PARTNERS,copyrightWhitelistedPartners:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.updateCopyrightOwnershipCountries=function(i,j){'use strict';var k={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_COPYRIGHT_OWNERSHIP_COUNTRIES,copyrightOwnershipCountries:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.updateCustomThumbnail=function(i,j){'use strict';var k={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_CUSTOM_THUMBNAIL,customThumbnail:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.updateOptOutMonetization=function(i,j){'use strict';var k={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_OPT_OUT_MONETIZATION,optOutMonetization:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.updateDescription=function(i,j){'use strict';var k={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_DESCRIPTION,description:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.updateEmbeddable=function(i,j){'use strict';var k={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_EMBEDDABLE,embeddable:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.updateExcludeNewsfeed=function(i,j){'use strict';var k={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_EXCLUDE_NEWSFEED,excludeNewsfeed:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.updateExpiration=function(i,j,k){'use strict';var l={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_EXPIRATION,expirationTime:j,expirationType:k};c('ReactComposerDispatcher').dispatch(l);};h.prototype.updateExpire=function(i,j){'use strict';var k={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_EXPIRE,expire:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.updateFTEOnly=function(i,j){'use strict';var k={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_FTE_ONLY,fteOnly:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.updateInternalVideoSettings=function(i,j){'use strict';var k={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_INTERNAL_VIDEO_SETTINGS,internalSetting:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.updateIsSecretVideo=function(i,j){'use strict';var k={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_IS_SECRET_VIDEO,isSecretVideo:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.updatePublish=function(i,j){'use strict';var k={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_PUBLISH,publish:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.updateRotation=function(i,j){'use strict';var k={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_ROTATION,rotation:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.updateScheduledPublishTime=function(i,j){'use strict';var k={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_SCHEDULED_PUBLISH_TIME,scheduledPublishTime:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.updateTags=function(i,j){'use strict';var k={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_TAGS,tags:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.updateSpherical=function(i,j){'use strict';var k={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_SPHERICAL,spherical:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.updateInitialHeading=function(i,j){'use strict';var k={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_INITIAL_HEADING,initialHeading:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.updateInitialPitch=function(i,j){'use strict';var k={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_INITIAL_PITCH,initialPitch:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.updateFOV=function(i,j){'use strict';var k={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_FOV,fov:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.updateThumbnail=function(i,j){var k=arguments.length<=2||arguments[2]===undefined?false:arguments[2];'use strict';var l={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_THUMBNAIL,thumbnail:j,isSelectedByUser:k};c('ReactComposerDispatcher').dispatch(l);};h.prototype.updateTitle=function(i,j){'use strict';var k={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_TITLE,title:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.updateFeedType=function(i,j){'use strict';var k={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_FEED_TYPE,feedType:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.updateGeneratedThumbnails=function(i,j){'use strict';var k={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_GENERATED_THUMBNAILS,generatedThumbnails:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.setSources=function(i,j){'use strict';var k={composerID:i,type:c('ComposerVideoUploadActionType').SET_SOURCES,sources:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.updateCaptions=function(i,j){'use strict';var k={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_CAPTIONS,captions:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.updateLastCaptionUploadErrorMessage=function(i,j){'use strict';var k={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_LAST_CAPTION_UPLOAD_ERROR_MESSAGE,lastCaptionUploadErrorMessage:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.updateDirectorsCutEnabled=function(i,j){'use strict';var k={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_DIRECTORS_CUT_ENABLED,directorsCutEnabled:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.updateDirectorsCutKeyframes=function(i,j){'use strict';var k={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_DIRECTORS_CUT_KEYFRAMES,directorsCutKeyframes:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.updatePermissions=function(i,j){'use strict';var k={composerID:i,type:c('ComposerVideoUploadActionType').UPDATE_PERMISSIONS,permissions:j};c('ReactComposerDispatcher').dispatch(k);};function h(){'use strict';}f.exports=new h();},null);
__d("VideoCaption",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){"use strict";this.locale=i;this.locale_name=j;this.is_default=false;}h.prototype.getLocale=function(){"use strict";return this.locale;};h.prototype.getLocaleName=function(){"use strict";return this.locale_name;};h.prototype.getIsDefault=function(){"use strict";return this.is_default;};h.prototype.setIsDefault=function(i){"use strict";this.is_default=i;};f.exports=h;},null);
__d('VideoCaptionFile',['InsightsLocaleNames','VideoCaption'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('VideoCaption'));i=h&&h.prototype;function j(k,l,m){'use strict';i.constructor.call(this,l,m);this.file=k;}j.fromFile=function(k){'use strict';var l=k.name.split('.');if(l.length==3){var m=l[1];if(c('InsightsLocaleNames')[m])return new this(k,m,c('InsightsLocaleNames')[m]);}return null;};j.prototype.getFile=function(){'use strict';return this.file;};f.exports=j;},null);
__d('ComposerVideoPostUtils',['Promise','ReactComposerTaggerActions','ReactComposerTaggerStore','ReactComposerTaggerType','ComposerVideoUploadActions','ComposerVideoUploadStore','FileVideoThumbnail','SearchableEntry','VideoCaptionFile','VideoContentCategoryType','VideoCopyrightAPI','VideoCopyrightUtils','VideoFeedType','flattenPHPQueryData','isEmpty'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=1000,i=60*h,j={updateStore:function(k,l){var m=l.locationEntry?new (c('SearchableEntry'))(l.locationEntry):null;m=m?{place:m,implicitLocation:{}}:null;c('ComposerVideoUploadActions').updateTitle(k,l.title);c('ComposerVideoUploadActions').updateDescription(k,l.description);c('ComposerVideoUploadActions').updateFeedType(k,l.feedType);c('ComposerVideoUploadActions').updateCallToAction(k,l.callToAction.ctaType,l.callToAction.ctaLink,l.callToAction.ctaCaption);c('ComposerVideoUploadActions').updateCategory(k,l.category);c('ComposerVideoUploadActions').updateContentTags(k,l.contentTags);c('ComposerVideoUploadActions').updateThumbnail(k,l.thumbnail);c('ComposerVideoUploadActions').updateCaptions(k,l.captions);c('ComposerVideoUploadActions').updateSpherical(k,l.isSpherical);c('ComposerVideoUploadActions').updateFOV(k,l.fov);c('ComposerVideoUploadActions').updateInitialHeading(k,l.initialHeading);c('ComposerVideoUploadActions').updateInitialPitch(k,l.initialPitch);c('ComposerVideoUploadActions').updateDirectorsCutEnabled(k,l.directorsCutEnabled);c('ComposerVideoUploadActions').updateDirectorsCutKeyframes(k,l.directorsCutKeyframes);c('ComposerVideoUploadActions').updateOptOutMonetization(k,l.optOutOfMonetization?l.optOutOfMonetization:false);c('ComposerVideoUploadActions').updateExpiration(k,l.expirationTime,l.expirationType);c('ComposerVideoUploadActions').updatePublish(k,false);c('ComposerVideoUploadActions').updateExpire(k,false);c('ComposerVideoUploadActions').updateScheduledPublishTime(k,l.scheduledPublishTime);c('ReactComposerTaggerActions').setTaggerData(k,c('ReactComposerTaggerType').PEOPLE,l.tags);if(l.sponsorTags)c('ReactComposerTaggerActions').setTaggerData(k,c('ReactComposerTaggerType').SPONSOR,l.sponsorTags);if(m)c('ReactComposerTaggerActions').setTaggerData(k,c('ReactComposerTaggerType').LOCATION,m);if(l.productTags)c('ReactComposerTaggerActions').setTaggerData(k,c('ReactComposerTaggerType').PRODUCT,l.productTags);if(l.backdate)c('ReactComposerTaggerActions').setTaggerData(k,c('ReactComposerTaggerType').BACKDATE,l.backdate);c('ReactComposerTaggerActions').setTaggerData(k,c('ReactComposerTaggerType').OG,null);c('ComposerVideoUploadActions').updateEmbeddable(k,l.embeddable);c('ComposerVideoUploadActions').updateCopyrighted(k,l.isCopyrighted?l.isCopyrighted:false);c('ComposerVideoUploadActions').updateCopyrightOwnershipCountries(k,l.ownershipCountries||[]);c('ComposerVideoUploadActions').updateCopyrightWhitelistedPartners(k,l.whitelistedPartners||[]);c('ComposerVideoUploadActions').updateCopyrightRuleID(k,l.ruleIDs&&l.ruleIDs.length?l.ruleIDs[0].toString():null);c('ComposerVideoUploadActions').updateCopyrightMonitoringType(k,l.monitoringType||c('VideoCopyrightUtils').DEFAULT_MONITORING_TYPE);c('ComposerVideoUploadActions').updateInternalVideoSettings(k,l.isInternalVideo);c('ComposerVideoUploadActions').updateFTEOnly(k,l.isFTEOnly);c('ComposerVideoUploadActions').updateRotation(k,l.rotation?l.rotation:0);c('ComposerVideoUploadActions').updatePermissions(k,l.permissions);},getDetailsFromStore:function(k){var l=c('ComposerVideoUploadStore').getTitle(k),m=c('ComposerVideoUploadStore').getFeedType(k),n=c('ComposerVideoUploadStore').getCallToAction(k),o=c('ComposerVideoUploadStore').getCategory(k),p=c('ComposerVideoUploadStore').getContentTags(k),q=c('ComposerVideoUploadStore').getThumbnail(k),r=c('ComposerVideoUploadStore').getDescription(k),s=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').PEOPLE)||[],t=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').LOCATION)||{};t=t?t.place:{};var u=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').BACKDATE),v=s.map(function(cb){return cb.getUniqueID();}).join(','),w=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').ACTIVITY),x=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').TARGETING),y=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').SPONSOR)||[],z=y.map(function(cb){return cb.getUniqueID();}),aa=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').PRODUCT)||[],ba=aa.map(function(cb){return cb.getUniqueID();}),ca=c('ComposerVideoUploadStore').getCaptions(k),da=c('ComposerVideoUploadStore').getExpirationTime(k),ea=c('ComposerVideoUploadStore').getExpirationType(k),fa=c('ComposerVideoUploadStore').getScheduledPublishTime(k),ga=c('ComposerVideoUploadStore').getPublish(k),ha=c('ComposerVideoUploadStore').getSpherical(k),ia=c('ComposerVideoUploadStore').getInitialHeading(k),ja=c('ComposerVideoUploadStore').getInitialPitch(k),ka=c('ComposerVideoUploadStore').getFOV(k),la=c('ComposerVideoUploadStore').getDirectorsCutEnabled(k),ma=c('ComposerVideoUploadStore').getDirectorsCutKeyframes(k)||[],na=c('ComposerVideoUploadStore').getExpire(k),oa=c('ComposerVideoUploadStore').getEmbeddable(k),pa=c('ComposerVideoUploadStore').getExcludeNewsfeed(k),qa=c('ComposerVideoUploadStore').getIsSecretVideo(k),ra=c('ComposerVideoUploadStore').getBlockSocialActions(k),sa=c('ComposerVideoUploadStore').getCopyrighted(k),ta=c('ComposerVideoUploadStore').getOptOutMonetization(k),ua=c('ComposerVideoUploadStore').getCopyrightMonitoringType(k),va=c('ComposerVideoUploadStore').getCopyrightRuleID(k),wa=c('ComposerVideoUploadStore').getCopyrightOwnershipCountries(k),xa=c('ComposerVideoUploadStore').getCopyrightWhitelistedPartners(k),ya=c('ComposerVideoUploadStore').getInternalSetting(k),za=c('ComposerVideoUploadStore').getFteOnly(k),ab=c('ComposerVideoUploadStore').getRotation(k),bb=c('ComposerVideoUploadStore').getPermissions(k);return {title:l,callToAction:n,captions:ca,category:o,contentTags:p,isCopyrighted:sa,copyrightMonitoringType:ua,copyrightRuleID:va,copyrightOwnershipCountries:wa,copyrightWhitelistedPartners:xa,thumbnail:q,description:r,directorsCutEnabled:la,directorsCutKeyframes:ma,backdate:u,feedType:m,fov:ka,initialHeading:ia,initialPitch:ja,isSpherical:ha,locationEntry:t,expirationTime:da,expirationType:ea,scheduledPublishTime:fa,sponsorTags:z,tags:v,productTags:ba,activity:w,targeting:x,publish:ga,expire:na,embeddable:oa,noStory:pa,isSecret:qa,blockSocialActions:ra,optOutOfMonetization:ta,isInternalVideo:ya,isFTEOnly:za,rotation:ab,permissions:bb};},createFormData:function(k,l,m,n,o,p,q,r,s,t,u){var v=k.thumbnail,w=new FormData();w.append('content_category',k.category);w.append('content_tags',this.getContentTagEntryIDs(k.contentTags));w.append('description',k.description);w.append('tags',k.tags);w.append('title',k.title);w.append('feed_type',k.feedType);if(k.callToAction&&k.callToAction.ctaType){w.append('cta_type',k.callToAction.ctaType);w.append('cta_link',k.callToAction.ctaLink);w.append('cta_caption',k.callToAction.ctaCaption?k.callToAction.ctaCaption:'');}w.append('rotation',k.rotation);var x=k.locationEntry?k.locationEntry.getUniqueID():null,y=k.locationEntry&&!k.locationEntry.getUniqueID()?k.locationEntry.getTitle():null;if(x){w.append('place_id',x);}else if(y)w.append('place_name',y);if(k.sponsorTags)w.append('sponsor_tags',k.sponsorTags);if(k.productTags)w.append('product_tags',k.productTags);if(k.backdate.year)w.append('backtime_year',k.backdate.year);if(k.backdate.month)w.append('backtime_month',k.backdate.month);if(k.backdate.day)w.append('backtime_day',k.backdate.day);if(k.backdate.hour)w.append('backtime_hour',k.backdate.hour);if(k.backdate.minute)w.append('backtime_minute',k.backdate.minute);if(k.expire)w.append('expire',k.expire);if(k.publish)w.append('publish',k.publish);var z=l.scheduledPublishTime,aa=k.scheduledPublishTime;if(aa!==z){var ba=this._isTwoTimesAlmostTheSame(z,aa);if(!ba)w.append('scheduled_publish_time',aa/1000);}var ca=l.expirationTime,da=l.expirationType,ea=k.expirationTime,fa=k.expirationType;this._isTwoTimesAlmostTheSame(ca,ea);if(ca!==ea){var ga=this._isTwoTimesAlmostTheSame(ca,ea);if(!ga)w.append('expiration_time',ea/1000);}if(da!==fa)w.append('expiration_type',fa);var ha=k.embeddable;if(o!=ha){w.append('has_embeddable',true);w.append('embeddable',ha);}var ia=k.permissions;if(ia.length===1){var ja=ia[0],ka=ja.allow;if(s!=ka){w.append('has_shared_with_business',true);w.append('shared_with_business',ka);}}var la=k.captions,ma=[],na=null;if(la)la.forEach(function(qa,ra){if(qa instanceof c('VideoCaptionFile')){var sa=qa.getIsDefault()?'captions_default':'captions_file'+ra;w.append(sa,qa.getFile());}if(qa.getIsDefault())na=qa.getLocale();});if(na)w.append('default_captions_locale',na);if(n)n.forEach(function(qa){if(la.indexOf(qa)==-1)ma.push(qa.getLocale());});ma.forEach(function(qa,ra){w.append('remove_caption['+ra+']',qa);});if(k.isSpherical)(function(){w.append('initial_heading',k.initialHeading);w.append('initial_pitch',k.initialPitch);w.append('fov',k.fov);w.append('directors_cut_enabled',!!k.directorsCutEnabled);var qa=c('flattenPHPQueryData')({directors_cut_keyframes:k.directorsCutKeyframes});Object.keys(qa).forEach(function(ra){w.append(ra,qa[ra]);});})();if(q)w.append('source',q);w.append('copyrighted',k.isCopyrighted);if(k.copyrightMonitoringType)w.append('monitoring_type',k.copyrightMonitoringType);if(p!=k.isFTEOnly){w.append('has_fte_only',true);w.append('fte_only',k.isFTEOnly);}var oa=c('Promise').resolve(null);if(r){var pa=m.indexOf(v);if(pa!=-1)w.append('preferred_thumbnail_index',pa+1);if(v instanceof c('FileVideoThumbnail')){oa=v.getData();w.append('preferred_thumbnail_index',m.length+1);}}oa.then(function(qa){if(qa)w.append('custom_thumbnail',qa);var ra=t&&t(k);if(ra){ra.done(function(){return u(w);},function(sa){return c('VideoCopyrightAPI').showErrorDialog();});}else u(w);}).done();},getContentCategory:function(k){var l=Object.keys(c('VideoContentCategoryType'));for(var m=0;m<l.length;m++)if(c('VideoContentCategoryType')[l[m]].value===k)return l[m];return "";},getContentTagEntryIDs:function(k){if(!k||k.length<=0)return [];return k.map(function(l){return l.getUniqueID();});},convertContentTagToEntryArray:function(k){var l=[];if(k&&!c('isEmpty')(k))for(var m in k)l.push(k[m]);return l;},hasInvalidBackdate:function(k,l){var m=new Date(k.year,k.month-1,k.day,k.hour,k.minute),n=new Date(l*h);return n.getTime()<m.getTime();},_isTwoTimesAlmostTheSame:function(k,l){if(!k)return false;var m=k-i,n=k+i;return (l>m&&l<n);},convertBaseTargeting:function(k){if(!k)return {};var l={};if(k.age_min)l.age_min=k.age_min;if(k.age_max)l.age_max=k.age_max;if(k.fan_of)l.interests=k.fan_of.map(function(n){return n.id;});if(k.genders)l.genders=k.genders;if(k.geo_locations){var m=k.geo_locations;if(m.countries)l.countries=m.countries;if(m.cities)l.cities=m.cities;if(m.regions)l.regions=m.regions;if(m.zips)l.zipcodes=m.zips;}if(k.locales)l.locales=k.locales;if(k.relationship_statuses)l.relationship_statuses=k.relationship_statuses;if(k.education_statuses)l.education_statuses=k.education_statuses;return l;},convertExcludedLocations:function(k){if(k&&k.excluded_geo_locations){var l=k.excluded_geo_locations;if(l.countries)k.excluded_countries=l.countries;if(l.cities)k.excluded_cities=l.cities.map(function(m){return m.key;});if(l.regions)k.excluded_regions=l.regions;if(l.zips)k.excluded_zipcodes=l.zips;delete k.excluded_geo_locations;}}};f.exports=j;},null);
__d('ComposerVideoTabsIdentifiers',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={BASIC:'basic-tab',DESTINATION:'destination-tab',ADVANCED:'advanced-tab',CAPTIONS:'captions-tab',SPHERICAL:'spherical-controls-tab',PERMISSIONS:'permissions-tab',RIGHTS:'rights-tab',WHITELIST:'whitelist-tab'};},null);
__d('ReactComposerLiveBroadcastPreviewActionType',['keyMirrorRecursive'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({SET_BROADCAST_CONFIG:null,SET_CONTENT_TAGS:null,SET_HAS_VIDEO_STREAM:null,SET_SELECTED_TAB:null,SET_TITLE:null,SET_COPYRIGHTED:null,SET_COPYRIGHT_MONITORING_TYPE:null,SET_COPYRIGHT_RULE_ID:null,SET_COPYRIGHT_OWNERSHIP_COUNTRIES:null,SET_COPYRIGHT_WHITELISTED_PARTNERS:null,SET_POST_FINISHED:null,SET_BROADCAST_TYPE:null},'LIVE_BROADCASTS');},null);
__d('ReactComposerLiveBroadcastPreviewStore',['ReactComposerLiveBroadcastPreviewActionType','VideoBroadcastType','ReactComposerStoreBase','ComposerVideoTabsIdentifiers','SearchableEntry','VideoCopyrightUtils'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {accessToken:'',broadcastID:'',broadcastType:'',contentTags:[],copyrighted:false,copyrightMonitoringType:c('VideoCopyrightUtils').DEFAULT_LIVE_MONITORING_TYPE,copyrightRuleID:null,copyrightWhitelistedPartners:[],copyrightOwnershipCountries:[],hasVideoStream:false,isEditing:false,isLive:false,postFinished:false,selectedTab:c('ComposerVideoTabsIdentifiers').BASIC,showKey:false,streamURL:'',secureStreamURL:'',title:'',videoID:''};},function(l){switch(l.type){case c('ReactComposerLiveBroadcastPreviewActionType').SET_BROADCAST_CONFIG:k&&k.$ReactComposerLiveBroadcastPreviewStore1(l);break;case c('ReactComposerLiveBroadcastPreviewActionType').SET_CONTENT_TAGS:k&&k.$ReactComposerLiveBroadcastPreviewStore2(l);break;case c('ReactComposerLiveBroadcastPreviewActionType').SET_HAS_VIDEO_STREAM:k&&k.$ReactComposerLiveBroadcastPreviewStore3(l);break;case c('ReactComposerLiveBroadcastPreviewActionType').SET_SELECTED_TAB:k&&k.$ReactComposerLiveBroadcastPreviewStore4(l);break;case c('ReactComposerLiveBroadcastPreviewActionType').SET_TITLE:k&&k.$ReactComposerLiveBroadcastPreviewStore5(l);break;case c('ReactComposerLiveBroadcastPreviewActionType').SET_SHOW_KEY:k&&k.$ReactComposerLiveBroadcastPreviewStore6(l);break;case c('ReactComposerLiveBroadcastPreviewActionType').SET_COPYRIGHTED:k&&k.$ReactComposerLiveBroadcastPreviewStore7(l);break;case c('ReactComposerLiveBroadcastPreviewActionType').SET_COPYRIGHT_MONITORING_TYPE:k&&k.$ReactComposerLiveBroadcastPreviewStore8(l);break;case c('ReactComposerLiveBroadcastPreviewActionType').SET_COPYRIGHT_RULE_ID:k&&k.$ReactComposerLiveBroadcastPreviewStore9(l);break;case c('ReactComposerLiveBroadcastPreviewActionType').SET_COPYRIGHT_WHITELISTED_PARTNERS:k&&k.$ReactComposerLiveBroadcastPreviewStore10(l);break;case c('ReactComposerLiveBroadcastPreviewActionType').SET_COPYRIGHT_OWNERSHIP_COUNTRIES:k&&k.$ReactComposerLiveBroadcastPreviewStore11(l);break;case c('ReactComposerLiveBroadcastPreviewActionType').SET_POST_FINISHED:k&&k.$ReactComposerLiveBroadcastPreviewStore12(l);break;case c('ReactComposerLiveBroadcastPreviewActionType').SET_BROADCAST_TYPE:k&&k.$ReactComposerLiveBroadcastPreviewStore13(l);break;}});k=this;}j.prototype.getSelectedTab=function(k){'use strict';return this.getComposerData(k).selectedTab;};j.prototype.getTitle=function(k){'use strict';return this.getComposerData(k).title;};j.prototype.shouldShowKey=function(k){'use strict';return this.getComposerData(k).showKey;};j.prototype.getAccessToken=function(k){'use strict';return this.getComposerData(k).accessToken;};j.prototype.getStreamURL=function(k){'use strict';return this.getComposerData(k).streamURL;};j.prototype.getSecureStreamURL=function(k){'use strict';return this.getComposerData(k).secureStreamURL;};j.prototype.getVideoID=function(k){'use strict';return this.getComposerData(k).videoID;};j.prototype.getCopyrighted=function(k){'use strict';return this.getComposerData(k).copyrighted;};j.prototype.getCopyrightMonitoringType=function(k){'use strict';return this.getComposerData(k).copyrightMonitoringType;};j.prototype.getCopyrightRuleID=function(k){'use strict';return this.getComposerData(k).copyrightRuleID;};j.prototype.getCopyrightWhitelistedPartners=function(k){'use strict';return this.getComposerData(k).copyrightWhitelistedPartners;};j.prototype.getCopyrightOwnershipCountries=function(k){'use strict';return this.getComposerData(k).copyrightOwnershipCountries;};j.prototype.getBroadcastID=function(k){'use strict';return this.getComposerData(k).broadcastID;};j.prototype.getContentTags=function(k){'use strict';return this.getComposerData(k).contentTags;};j.prototype.getBroadcastType=function(k){'use strict';return this.getComposerData(k).broadcastType;};j.prototype.hasVideoStream=function(k){'use strict';return this.getComposerData(k).hasVideoStream;};j.prototype.isEditing=function(k){'use strict';return this.getComposerData(k).isEditing;};j.prototype.isLive=function(k){'use strict';return this.getComposerData(k).isLive;};j.prototype.postFinished=function(k){'use strict';return this.getComposerData(k).postFinished;};j.prototype.$ReactComposerLiveBroadcastPreviewStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','config']),m=l[0],n=l[1];this.getComposerData(m).accessToken=n.accessToken;this.getComposerData(m).broadcastID=n.broadcastID;this.getComposerData(m).isEditing=n.isEditing;this.getComposerData(m).isLive=n.isLive;this.getComposerData(m).streamURL=n.streamURL;this.getComposerData(m).secureStreamURL=n.secureStreamURL;this.getComposerData(m).videoID=n.videoID;if(n.copyrightData){var o=n.copyrightData;this.getComposerData(m).copyrighted=o.copyrighted;this.getComposerData(m).copyrightMonitoringType=o.monitoringType;this.getComposerData(m).copyrightOwnershipCountries=o.ownershipCountries;this.getComposerData(m).copyrightRuleID=o.ruleID;this.getComposerData(m).copyrightWhitelistedPartners=o.whitelistedPartners;}this.emitChange(m);};j.prototype.$ReactComposerLiveBroadcastPreviewStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','contentTags']),m=l[0],n=l[1];this.getComposerData(m).contentTags=n;this.emitChange(m);};j.prototype.$ReactComposerLiveBroadcastPreviewStore3=function(k){'use strict';var l=this.validateAction(k,['composerID','hasVideoStream']),m=l[0],n=l[1];this.getComposerData(m).hasVideoStream=n;this.emitChange(m);};j.prototype.$ReactComposerLiveBroadcastPreviewStore4=function(k){'use strict';var l=this.validateAction(k,['composerID','key']),m=l[0],n=l[1];this.getComposerData(m).selectedTab=n;this.emitChange(m);};j.prototype.$ReactComposerLiveBroadcastPreviewStore5=function(k){'use strict';var l=this.validateAction(k,['composerID','title']),m=l[0],n=l[1];this.getComposerData(m).title=n;this.emitChange(m);};j.prototype.$ReactComposerLiveBroadcastPreviewStore13=function(k){'use strict';var l=this.validateAction(k,['composerID','ambientChecked']),m=l[0],n=l[1];this.getComposerData(m).broadcastType=n?c('VideoBroadcastType').VALUE_TO_NAME[1]:c('VideoBroadcastType').VALUE_TO_NAME[0];this.emitChange(m);};j.prototype.$ReactComposerLiveBroadcastPreviewStore6=function(k){'use strict';var l=this.validateAction(k,['composerID','showKey']),m=l[0],n=l[1];this.getComposerData(m).showKey=n;this.emitChange(m);};j.prototype.$ReactComposerLiveBroadcastPreviewStore7=function(k){'use strict';var l=this.validateAction(k,['composerID','copyrighted']),m=l[0],n=l[1];this.getComposerData(m).copyrighted=n;this.emitChange(m);};j.prototype.$ReactComposerLiveBroadcastPreviewStore8=function(k){'use strict';var l=this.validateAction(k,['composerID','copyrightMonitoringType']),m=l[0],n=l[1];this.getComposerData(m).copyrightMonitoringType=n;this.emitChange(m);};j.prototype.$ReactComposerLiveBroadcastPreviewStore9=function(k){'use strict';var l=this.validateAction(k,['composerID','copyrightRuleID']),m=l[0],n=l[1];this.getComposerData(m).copyrightRuleID=n;this.emitChange(m);};j.prototype.$ReactComposerLiveBroadcastPreviewStore10=function(k){'use strict';var l=this.validateAction(k,['composerID','copyrightWhitelistedPartners']),m=l[0],n=l[1];this.getComposerData(m).copyrightWhitelistedPartners=n;this.emitChange(m);};j.prototype.$ReactComposerLiveBroadcastPreviewStore11=function(k){'use strict';var l=this.validateAction(k,['composerID','copyrightOwnershipCountries']),m=l[0],n=l[1];this.getComposerData(m).copyrightOwnershipCountries=n;this.emitChange(m);};j.prototype.$ReactComposerLiveBroadcastPreviewStore12=function(k){'use strict';var l=this.validateAction(k,['composerID','postFinished']),m=l[0],n=l[1];this.getComposerData(m).postFinished=n;this.emitChange(m);};f.exports=new j();},null);
__d('ReactComposerLiveBroadcastPostUtils',['invariant','Arbiter','ReactComposerActions','ReactComposerAudienceStore','ReactComposerLiveBroadcastPreviewStore','ReactComposerStatusStore','ReactComposerTaggerStore','ReactComposerTaggerType','ComposerVideoPostUtils','CreateBroadcastEvent','CreateLiveBroadcastUIWaterfallTypedLogger','GraphAPI','PageContentTabLiveBroadcastsUtils','VideoCopyrightAPI','VideoCopyrightUITypedLogger','isEmpty','isNumberLike'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={_doPost:function(j){var k=j.composerID,l=c('ReactComposerLiveBroadcastPreviewStore').getBroadcastID(k),m=c('ReactComposerLiveBroadcastPreviewStore').getVideoID(k),n=c('ReactComposerLiveBroadcastPreviewStore').getAccessToken(k),o=j.isDraft,p=c('ReactComposerLiveBroadcastPreviewStore').isEditing(k),q=c('ReactComposerLiveBroadcastPreviewStore').isLive(k),r=c('ReactComposerLiveBroadcastPreviewStore').getTitle(k),s=c('ReactComposerStatusStore').getMessage(k),t=c('ComposerVideoPostUtils').getContentTagEntryIDs(c('ReactComposerLiveBroadcastPreviewStore').getContentTags(k)),u=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').LOCATION),v=null;if(u&&u.place)v=u.place.getUniqueID();var w=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').PEOPLE)||[],x=[];w.forEach(function(ga){return x.push(ga.getUniqueID());});var y=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').ACTIVITY),z=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').TARGETING),aa=z.gating;c('ComposerVideoPostUtils').convertExcludedLocations(aa);var ba=c('ReactComposerAudienceStore').getAudience(k);if(ba)ba={privacy_option:c('ReactComposerAudienceStore').getAudience(k)};var ca=null,da=null,ea=[];if(y&&y.action&&y.object){ca=y.action.getUniqueID();if(c('isNumberLike')(y.object.getUniqueID())){da=y.object.getUniqueID();ea.push('');}else ea.push(y.object.getTitle());}new (c('CreateLiveBroadcastUIWaterfallTypedLogger'))().setEvent(o?c('CreateBroadcastEvent').SAVE_DRAFT_START:c('CreateBroadcastEvent').GO_LIVE_START).setBroadcastID(l).setPageID(j.targetID).setHasTitle(!!r).setHasDescription(!!s).setHasWithTags(x.length>0).setHasMinutiae(!!da).setHasGating(!c('isEmpty')(aa)).log();var fa={access_token:n,stream_type:c('ReactComposerLiveBroadcastPreviewStore').getBroadcastType(k),content_tags:t,description:c('ReactComposerStatusStore').getMessage(k),og_object_id:da,og_action_type_id:ca,place:v,privacy:ba,published:true,tags:x,targeting:aa,title:c('ReactComposerLiveBroadcastPreviewStore').getTitle(k)};if(c('isEmpty')(fa.targeting))delete fa.targeting;if(o)delete fa.published;if(q)delete fa.targeting;if(!ba)delete fa.privacy;c('GraphAPI')('2.5').object('livevideo',l).post(fa).done(function(ga){this._logEvent(o?c('CreateBroadcastEvent').SAVE_DRAFT_FINISH:c('CreateBroadcastEvent').GO_LIVE_FINISH,l,m,j.targetID);c('Arbiter').inform('BroadcastDialog/postSuccess',{broadcastID:l,videoID:m,editPost:p});if(o){c('Arbiter').inform('BroadcastDialog/dismiss');}else c('Arbiter').inform('BroadcastDialog/goLive',{videoID:m});c('ReactComposerActions').postFinally(k,null);if(!o)c('ReactComposerActions').postSucceeded(k);}.bind(this),function(ga){this._logEvent(o?c('CreateBroadcastEvent').SAVE_DRAFT_ERROR:c('CreateBroadcastEvent').GO_LIVE_ERROR,l,m,j.targetID,ga);setTimeout(function(){c('ReactComposerActions').postError(k,null);c('ReactComposerActions').postFinally(k,null);},0);}.bind(this));},post:function(j){!!!j.composerID?h(0):void 0;var k=j.composerID,l=c('ReactComposerLiveBroadcastPreviewStore').getBroadcastID(k),m=c('ReactComposerLiveBroadcastPreviewStore').getVideoID(k),n=j.isReferenceBroadcast,o=c('ReactComposerLiveBroadcastPreviewStore').getCopyrighted(k),p=!j.isDraft;if(o&&p){var q=c('ReactComposerLiveBroadcastPreviewStore').getAccessToken(k),r=c('ReactComposerLiveBroadcastPreviewStore').getCopyrightMonitoringType(k),s=c('ReactComposerLiveBroadcastPreviewStore').getCopyrightRuleID(k),t=c('ReactComposerLiveBroadcastPreviewStore').getCopyrightWhitelistedPartners(k),u=c('ReactComposerLiveBroadcastPreviewStore').getCopyrightOwnershipCountries(k);this._logEvent(c('CreateBroadcastEvent').SAVE_COPYRIGHT_START,l,m,j.targetID);c('VideoCopyrightAPI').copyrightVideo(q,j.actorID,l,{copyrightMonitoringType:r,copyrightRuleID:s,copyrightWhitelistedPartners:t,copyrightOwnershipCountries:u,isReferenceVideo:n},'live_video_composer').done(function(v){this._logEvent(c('CreateBroadcastEvent').SAVE_COPYRIGHT_FINISH,l,m,j.targetID);this._doPost(j);}.bind(this),function(v){this._logEvent(c('CreateBroadcastEvent').SAVE_COPYRIGHT_ERROR,l,m,j.targetID,v);setTimeout(function(){c('VideoCopyrightAPI').showErrorDialog();c('ReactComposerActions').postError(k,null);c('ReactComposerActions').postFinally(k,null);},0);}.bind(this));}else this._doPost(j);},_logEvent:function(j,k,l,m,n){var o=new (c('CreateLiveBroadcastUIWaterfallTypedLogger'))().setEvent(j).setBroadcastID(k).setVideoID(l).setPageID(m);if(n)c('PageContentTabLiveBroadcastsUtils').setLoggerError(o,n);o.log();},logCopyrightEvent:function(j,k,l,m){var n=c('ReactComposerLiveBroadcastPreviewStore').getBroadcastID(k),o=c('ReactComposerLiveBroadcastPreviewStore').getCopyrightOwnershipCountries(k).join(','),p=(c('ReactComposerLiveBroadcastPreviewStore').getCopyrightWhitelistedPartners(k)||[]).map(function(t){return t.id;}).join(','),q=c('ReactComposerLiveBroadcastPreviewStore').getCopyrightRuleID(k),r=c('ReactComposerLiveBroadcastPreviewStore').getCopyrightMonitoringType(k),s=c('ReactComposerLiveBroadcastPreviewStore').getCopyrighted(k);new (c('VideoCopyrightUITypedLogger'))().setEvent(j).setSource('live_video_composer').setCopyrightContentID(n).setCopyrightChecked(s).setRightsHolderID(l).setMonitoringType(r).setIsReference(m).setOwnershipCountries(o).setWhitelistedIds(p).setRuleID(q).log();}};f.exports=i;},null);
__d('ReactComposerLiveBroadcastPreviewActions',['ReactComposerLiveBroadcastPreviewActionType','ReactComposerDispatcher','ComposerVideoTabsIdentifiers','ReactComposerLiveBroadcastPreviewStore'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c('ReactComposerLiveBroadcastPreviewStore');h.prototype.setBroadcastConfig=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerLiveBroadcastPreviewActionType').SET_BROADCAST_CONFIG,config:j});};h.prototype.setContentTags=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerLiveBroadcastPreviewActionType').SET_CONTENT_TAGS,contentTags:j});};h.prototype.setHasVideoStream=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerLiveBroadcastPreviewActionType').SET_HAS_VIDEO_STREAM,hasVideoStream:j});};h.prototype.setSelectedTab=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerLiveBroadcastPreviewActionType').SET_SELECTED_TAB,key:j});};h.prototype.setTitle=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerLiveBroadcastPreviewActionType').SET_TITLE,title:j});};h.prototype.setShouldBlockComments=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerLiveBroadcastPreviewActionType').SET_SHOULD_BLOCK_COMMENTS,shouldBlockComments:j});};h.prototype.setCopyrighted=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerLiveBroadcastPreviewActionType').SET_COPYRIGHTED,copyrighted:j});};h.prototype.setCopyrightMonitoringType=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerLiveBroadcastPreviewActionType').SET_COPYRIGHT_MONITORING_TYPE,copyrightMonitoringType:j});};h.prototype.setCopyrightRuleID=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerLiveBroadcastPreviewActionType').SET_COPYRIGHT_RULE_ID,copyrightRuleID:j});};h.prototype.setCopyrightWhitelistedPartners=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerLiveBroadcastPreviewActionType').SET_COPYRIGHT_WHITELISTED_PARTNERS,copyrightWhitelistedPartners:j});};h.prototype.setCopyrightOwnershipCountries=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerLiveBroadcastPreviewActionType').SET_COPYRIGHT_OWNERSHIP_COUNTRIES,copyrightOwnershipCountries:j});};h.prototype.setPostFinished=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerLiveBroadcastPreviewActionType').SET_POST_FINISHED,postFinished:j});};h.prototype.setBroadcastType=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerLiveBroadcastPreviewActionType').SET_BROADCAST_TYPE,ambientChecked:j});};function h(){'use strict';}f.exports=new h();},null);
__d('ReactComposerLiveBroadcastPreviewAdvancedTab.react',['cx','fbt','xuiglyph','Grid.react','Image.react','InputLabel.react','React','Tooltip.react','XUICheckboxInput.react','XUIGrayText.react'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=c('Grid.react').GridItem,m=c('React').createClass({displayName:'ReactComposerLiveBroadcastPreviewAdvancedTab',propTypes:{isAmbientOptionShown:k.bool.isRequired,isCopyrightEnabled:k.bool,onBroadcastTypeChange:k.func.isRequired,onCopyrightedChange:k.func.isRequired,shown:k.bool.isRequired,copyrighted:k.bool.isRequired,isLive:k.bool.isRequired},_renderAmbientSection:function(){if(!this.props.isAmbientOptionShown)return (c('React').createElement(l,{className:"_5ig7"}));return (c('React').createElement(l,{className:"_5ig7"},c('React').createElement(c('XUIGrayText.react'),{className:"_3-94",display:'block',shade:'medium',size:'small',weight:'bold'},i._("Distribution")),c('React').createElement(c('XUIGrayText.react'),{className:"_3-94",display:'block',shade:'light',size:'small'},i._("Choose where you want this video to appear.")),c('React').createElement(c('InputLabel.react'),{className:"_5ig8"},c('React').createElement(c('XUICheckboxInput.react'),{className:"_5ig9",onChange:this.props.onBroadcastTypeChange,defaultChecked:false,disabled:this.props.isLive}),c('React').createElement('label',null,i._("Continuous live video"),c('React').createElement(c('Tooltip.react'),{position:'above',alignH:'right',tooltip:c('React').createElement('div',{className:"_5iga"},i._("Check for a long-term live video feed. The video will not be available to watch after the live video ends."))},c('React').createElement(c('Image.react'),{className:"_5igb",src:j('info-solid')}))))));},_renderCopyrightSection:function(){if(!this.props.isCopyrightEnabled)return (c('React').createElement(l,{className:"_5ig7"}));return (c('React').createElement(l,{className:"_5ig7"},c('React').createElement(c('XUIGrayText.react'),{className:"_3-94",display:'block',shade:'medium',size:'small',weight:'bold'},i._("Rights Management")),c('React').createElement(c('XUIGrayText.react'),{className:"_3-94",display:'block',shade:'light',size:'small'},i._("Facebook can alert you if anyone posts video or audio that matches this one.")),c('React').createElement(c('InputLabel.react'),{className:"_5ig8"},c('React').createElement(c('XUICheckboxInput.react'),{className:"_5ig9",onChange:this.props.onCopyrightedChange,defaultChecked:this.props.copyrighted,disabled:this.props.isLive}),c('React').createElement('label',null,i._("Monitor matching uploads"),c('React').createElement(c('Tooltip.react'),{position:'above',alignH:'right',tooltip:c('React').createElement('div',{className:"_5iga"},i._("Identifies other Facebook videos that include all or part of this video"))},c('React').createElement(c('Image.react'),{className:"_5igb",src:j('info-solid')}))))));},render:function(){return (c('React').createElement('div',{className:(!this.props.shown?"hidden_elem":'')+(' '+"_5ii2")},c('React').createElement(c('Grid.react'),{alignv:'top',cols:2,spacing:"_5ii3"},this._renderAmbientSection(),this._renderCopyrightSection())));}});f.exports=m;},null);
__d('ReactComposerLiveBroadcastPreviewAdvancedTabContainer.react',['ReactComposerContextMixin','ReactComposerLiveBroadcastPreviewAdvancedTab.react','ReactComposerLiveBroadcastPreviewActions','ReactComposerLiveBroadcastPreviewStore','ReactComposerPropsAndStoreBasedStateMixin','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerLiveBroadcastPreviewAdvancedTabContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerLiveBroadcastPreviewStore'))],propTypes:{isAmbientOptionShown:h.bool.isRequired,isCopyrightEnabled:h.bool,onCopyrightedChange:h.func,shown:h.bool},statics:{calculateState:function(j,k){return {streamURL:c('ReactComposerLiveBroadcastPreviewStore').getStreamURL(j),secureStreamURL:c('ReactComposerLiveBroadcastPreviewStore').getSecureStreamURL(j),copyrighted:c('ReactComposerLiveBroadcastPreviewStore').getCopyrighted(j),isLive:c('ReactComposerLiveBroadcastPreviewStore').isLive(j)};}},render:function(){return (c('React').createElement(c('ReactComposerLiveBroadcastPreviewAdvancedTab.react'),{isAmbientOptionShown:this.props.isAmbientOptionShown,isCopyrightEnabled:this.props.isCopyrightEnabled,onCopyrightedChange:this._onCopyrightedChange,onBroadcastTypeChange:this._onBroadcastTypeChange,shown:this.props.shown,streamURL:this.state.streamURL,secureStreamURL:this.state.secureStreamURL,copyrighted:this.state.copyrighted,isLive:this.state.isLive}));},_onBroadcastTypeChange:function(event){var j=event.target.checked;c('ReactComposerLiveBroadcastPreviewActions').setBroadcastType(this.context.composerID,j);},_onCopyrightedChange:function(event){var j=event.target.checked;c('ReactComposerLiveBroadcastPreviewActions').setCopyrighted(this.context.composerID,j);if(this.props.onCopyrightedChange)this.props.onCopyrightedChange(j);}});f.exports=i;},null);
__d('ReactComposerLiveBroadcastStreamKeyFields.react',['cx','fbt','xuiglyph','XUITextInput.react','Image.react','LeftRight.react','React','Tooltip.react','XUICheckboxInput.react','XUIGrayText.react','XUIText.react'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=c('React').createClass({displayName:'ReactComposerLiveBroadcastStreamKeyFields',propTypes:{streamURL:k.string,secureStreamURL:k.string},getInitialState:function(){return {useSSL:false};},render:function(){var m=this.state.useSSL?this.props.secureStreamURL:this.props.streamURL;if(!m)m='';var n='',o='',p=m.match(/(^.*rtmp\/)(.*)$/);if(p){n=p[1];o=p[2];}return (c('React').createElement('div',this.props,this._renderCheckbox(),c('React').createElement(c('XUIGrayText.react'),{className:"_3-8x _3-94",display:'block',shade:'medium',size:'small',weight:'bold'},i._("Server URL"),c('React').createElement(c('Tooltip.react'),{position:'above',tooltip:i._("In your streaming software, this may be called URL or Address")},c('React').createElement(c('Image.react'),{className:"_52vx",src:j('info-solid')}))),c('React').createElement(c('XUITextInput.react'),{className:"_5ii4",height:'tall',placeholder:i._("Stream URL"),value:n,ref:'url_field',onFocus:function(){return this.refs.url_field.getTextFieldDOM().select();}.bind(this)}),c('React').createElement(c('XUIGrayText.react'),{className:"_3-8y _3-94",display:'block',shade:'medium',size:'small',weight:'bold'},i._("Stream Key"),c('React').createElement(c('Tooltip.react'),{position:'above',tooltip:i._("In your streaming software, this may be called Stream Key or Key")},c('React').createElement(c('Image.react'),{className:"_52vx",src:j('info-solid')}))),c('React').createElement(c('XUITextInput.react'),{className:"_5ii4",height:'tall',placeholder:i._("Stream Key"),value:o,ref:'stream_key_field',onFocus:function(){return this.refs.stream_key_field.getTextFieldDOM().select();}.bind(this)})));},_renderCheckbox:function(){return (c('React').createElement(c('LeftRight.react'),{className:"_3-8x",direction:'left'},c('React').createElement(c('XUICheckboxInput.react'),{onChange:this._toggleURL}),c('React').createElement('div',null,c('React').createElement(c('XUIText.react'),{className:"_3-99 _3-94",size:'small'},i._("Secure connection (SSL)")),c('React').createElement(c('Tooltip.react'),{position:'above',tooltip:i._("A secure connection is better, but it may not work with all encoders.")},c('React').createElement(c('Image.react'),{className:"_52vx",src:j('info-solid')})))));},_toggleURL:function(event){this.setState({useSSL:event.target.checked});}});f.exports=l;},null);
__d('ReactComposerLiveBroadcastPreviewVideoPlayer.react',['cx','fbt','ReactComposerContextMixin','ReactComposerLiveBroadcastPreviewActions','ReactComposerLiveBroadcastPreviewStore','CreateBroadcastEvent','CreateLiveBroadcastUIWaterfallTypedLogger','AdsVideoPlayer.react','CenteredContainer.react','Link.react','ReactComponentWithPureRenderMixin','React','ReactComposerLiveBroadcastStreamKeyFields.react','XUIGrayText.react','XUINotice.react','XUISpinner.react','XUIText.react'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k='https://www.facebook.com/facebookmedia/get-started/live',l=5000,m=465,n=285,o=c('React').createClass({displayName:'ReactComposerLiveBroadcastPreviewVideoPlayer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{shown:j.bool.isRequired,streamURL:j.string,secureStreamURL:j.string,videoID:j.string.isRequired},getInitialState:function(){return {error:false,isPlaying:false,loading:true,renderPlayer:true,showPlayer:false,timeoutID:null};},componentWillReceiveProps:function(p){if(!this.props.shown&&p.shown&&this.state.isPlaying)this.resetAndShowPlayer();},componentDidMount:function(){this.checkIfVideoIsPlaying();},checkIfVideoIsPlaying:function(){this.setState({timeoutID:setTimeout(function(){if(this.refs.player)this.setState({error:this.refs.player.isImplementationUnavailable()});if(this.state.isPlaying){this.resetAndShowPlayer();}else{this.setState({loading:false});this.resetPlayer();this.checkIfVideoIsPlaying();}}.bind(this),l)});},resetAndShowPlayer:function(){this.setState({loading:true});this.resetPlayer();this.setState({timeoutID:setTimeout(function(){this.setState({loading:false,renderPlayer:true,showPlayer:true});}.bind(this),l)});},resetPlayer:function(){this.setState({renderPlayer:false,showPlayer:false});},_onUpdateMetadata:function(){if(!this.state.isPlaying)this._logEvent(c('CreateBroadcastEvent').PREVIEW_START);this.setState({isPlaying:true,loading:true});c('ReactComposerLiveBroadcastPreviewActions').setHasVideoStream(this.context.composerID,true);},_onFinishPlayback:function(){this.setState({isPlaying:false,loading:false});c('ReactComposerLiveBroadcastPreviewActions').setHasVideoStream(this.context.composerID,false);this._logEvent(c('CreateBroadcastEvent').PREVIEW_END);},_logEvent:function(p){new (c('CreateLiveBroadcastUIWaterfallTypedLogger'))().setEvent(p).setPageID(this.context.targetID).setBroadcastID(c('ReactComposerLiveBroadcastPreviewStore').getBroadcastID(this.context.composerID)).setVideoID(this.props.videoID).setIsDraft(c('ReactComposerLiveBroadcastPreviewStore').isEditing(this.context.composerID)).log();},componentDidUpdate:function(){if(!this.state.renderPlayer)this.setState({renderPlayer:true});},componentWillUnmount:function(){if(this.state.timeoutID)clearTimeout(this.state.timeoutID);},render:function(){if(!this.props.shown)return c('React').createElement('div',null);var p=c('React').createElement(c('CenteredContainer.react'),{className:"_3k7_",fullHeight:true,horizonal:true,vertical:true},c('React').createElement(c('XUINotice.react'),{use:'warn'},c('React').createElement('div',null,c('React').createElement(c('XUIText.react'),{weight:'bold'},i._("Flash Unavailable"))),c('React').createElement('div',null,c('React').createElement(c('XUIText.react'),null,i._("You must install Flash to watch live videos.")),' ',c('React').createElement(c('Link.react'),{href:'https://get.adobe.com/flashplayer/',target:'_blank'},c('React').createElement(c('XUIText.react'),{weight:'bold'},'Download Flash'))))),q=c('React').createElement('div',null,c('React').createElement('div',{className:"_3k7-"},c('React').createElement(c('XUISpinner.react'),{background:'light',size:'large'})),c('React').createElement(c('CenteredContainer.react'),{className:"_3k7_",fullHeight:true,horizonal:true,vertical:true},c('React').createElement(c('XUIGrayText.react'),{shade:'light',size:'xlarge',weight:'bold',className:"_3k80"},i._("Fetching video stream...")),i._("This can take a few seconds"))),r=c('React').createElement('div',{className:"_3k7_"},c('React').createElement(c('CenteredContainer.react'),{horizontal:true},c('React').createElement('div',{className:"_3k81"},c('React').createElement('div',{className:"_3k82"},i._("OFFLINE")))),c('React').createElement('div',{className:"_3-8j"},c('React').createElement(c('XUIGrayText.react'),{display:'block',shade:'medium'},i._("If your video stream isn't working, make sure you copied the contents of these fields into your video streaming software's settings."),' ',c('React').createElement(c('Link.react'),{href:k,target:'_blank'},i._("Learn more"))),c('React').createElement(c('ReactComposerLiveBroadcastStreamKeyFields.react'),{streamURL:this.props.streamURL,secureStreamURL:this.props.secureStreamURL}))),s=this.state.renderPlayer?c('React').createElement(c('AdsVideoPlayer.react'),{className:(!this.state.showPlayer?"_14e1":'')+(' '+"_14e2"),videoID:this.props.videoID,playerWidth:m,playerHeight:n,autoPlay:true,onUpdateMetadata:this._onUpdateMetadata,onFinishPlayback:this._onFinishPlayback,hideCloseButton:true,showControls:false,forceFlash:true,ref:'player'},c('React').createElement('div',null)):null,t=this.state.loading?q:r;if(this.state.error)t=p;return (c('React').createElement(c('CenteredContainer.react'),{className:"_14e3",vertical:true},c('React').createElement('div',{className:"_14e4"},t,s)));}});f.exports=o;},null);
__d('VideoContentTagSelectorToken.react',['cx','fbt','AsyncRequest','AudienceInterestsSearchSource','ComposerVideoTabsIdentifiers','DOMQuery','React','ReactLayeredComponentMixin','SearchableEntry','VideoUploadUILoggerEvents','XUIAmbientNUX.react','XUIText.react','XUITokenizer.react'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=8,l=255,m=c('React').createClass({displayName:'VideoContentTagSelectorToken',mixins:[c('ReactLayeredComponentMixin')],propTypes:{accessToken:j.string,logger:j.object,onChange:j.func,showTagSelectorNux:j.bool,value:j.array},getInitialState:function(){return {disabled:false,entries:[],showTagSelectorNux:this.props.showTagSelectorNux};},componentDidMount:function(){if(this.props.value&&this.props.value.length>0)this._onEntriesChange(this.props.value);},_isExceedingMaxTagCount:function(n){return n.length>=k;},_onEntriesChange:function(n){this.props.onChange&&this.props.onChange(n);var o={};o.disabled=this._isExceedingMaxTagCount(n);o.entries=n;this.setState(o);},_hasEntry:function(n){var o=n.getUniqueID(),p=this.state.entries,q=p.some(function(r){if(r.getUniqueID()===o)return true;});return q;},_onAddEntryAttempt:function(n){this._logEvent(c('VideoUploadUILoggerEvents').CONTENT_TAGS_SELECTED);if(this._hasEntry(n))return;var o=this.state.entries;o.push(n);this._onEntriesChange(o);},_onRemoveEntryAttempt:function(n){this._logEvent(c('VideoUploadUILoggerEvents').CONTENT_TAGS_REMOVED);var o=this.state.entries;if(this._hasEntry(n))o.splice(o.indexOf(n),1);this._onEntriesChange(o);},_logEvent:function(n,o){if(this.props.logger)this.props.logger.logEvent(n,c('ComposerVideoTabsIdentifiers').BASIC,o);},renderLayers:function(){var n=null;if(this.state.showTagSelectorNux)n=c('React').createElement(c('XUIAmbientNUX.react'),{context:c('DOMQuery').find(document.body,'.videoContentTagSelectorToken'),onCloseButtonClick:this._onNuxClose,position:'below',shown:true,width:'custom',customwidth:l},c('React').createElement('div',null,c('React').createElement(c('XUIText.react'),{size:'small',weight:'bold'},i._("Add Video Tags"))),c('React').createElement('div',null,c('React').createElement(c('XUIText.react'),{size:'small'},i._("Tag topics and themes in this video to help reach audiences that may enjoy your content."))));return {tagNux:n};},renderNotice:function(){var n=null;if(this.state.disabled)n=c('React').createElement(c('XUIText.react'),{size:'small',display:'block'},i._("You've added the maximum number of tags."));return (c('React').createElement('div',{className:"_5f81"},n));},render:function(){var n=c('AudienceInterestsSearchSource').getInstance({whitelistedInterestsOnly:false,accessToken:this.props.accessToken});return (c('React').createElement('div',null,c('React').createElement(c('XUITokenizer.react'),{className:'videoContentTagSelectorToken',entries:this.state.entries,placeholder:i._("Add tags ex. baseball, daycare etc."),searchSource:n,onRemoveEntryAttempt:this._onRemoveEntryAttempt,onAddEntryAttempt:this._onAddEntryAttempt,disabled:this.state.disabled,onInputFocus:this._onNuxClose}),this.renderNotice()));}});f.exports=m;},null);
__d('ReactComposerLiveBroadcastPreviewBasicTab.react',['cx','fbt','xuiglyph','ReactComposerContextMixin','ReactComposerLiveBroadcastPreviewVideoPlayer.react','BUITextInput.react','HelpLink.react','Image.react','ReactComponentWithPureRenderMixin','React','Tooltip.react','VideoContentTagSelectorToken.react','WebApiApplication','XUIGrayText.react'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=c('React').createClass({displayName:'ReactComposerLiveBroadcastPreviewBasicTab',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{accessToken:k.string.isRequired,onContentTagChange:k.func.isRequired,onTitleChange:k.func.isRequired,shown:k.bool.isRequired,title:k.string.isRequired,streamURL:k.string.isRequired,secureStreamURL:k.string.isRequired,videoID:k.string.isRequired,contentTags:k.array.isRequired},getInitialState:function(){return {title:this.props.title};},componentWillMount:function(){if(this.props.accessToken)c('WebApiApplication').init(this.props.accessToken,this.context.targetID);},render:function(){return (c('React').createElement('div',{className:!this.props.shown?"hidden_elem":''},this._renderMetadataSection(),c('React').createElement(c('ReactComposerLiveBroadcastPreviewVideoPlayer.react'),{shown:this.props.shown,streamURL:this.props.streamURL,secureStreamURL:this.props.secureStreamURL,videoID:this.props.videoID})));},_renderMetadataSection:function(){return (c('React').createElement('div',{className:"_4vmn"},c('React').createElement('div',{className:"_4vmo"},c('React').createElement(c('XUIGrayText.react'),{className:"_3-94",display:'block',shade:'medium',size:'small',weight:'bold'},i._("Video Title")),c('React').createElement(c('BUITextInput.react'),{height:'tall',className:"_4vmp",placeholder:i._("Add a title"),onChange:this._onChange,value:this.state.title}),c('React').createElement(c('XUIGrayText.react'),{className:"_3-8- _3-94",display:'block',shade:'medium',size:'small',weight:'bold'},i._("Video Tags"),c('React').createElement(c('Tooltip.react'),{position:'above',tooltip:i._("Tags help make the video more discoverable. They aren't displayed to the public.")},c('React').createElement(c('Image.react'),{className:"_4vmq",src:j('info-solid')}))),c('React').createElement(c('VideoContentTagSelectorToken.react'),{onChange:this.props.onContentTagChange,showTagSelectorNux:false,value:this.props.contentTags}))));},_onChange:function(event){this.setState({title:event.target.value});this.props.onTitleChange&&this.props.onTitleChange(event);}});f.exports=l;},null);
__d('ReactComposerLiveBroadcastPreviewBasicTabContainer.react',['ReactComposerContextMixin','ReactComposerLiveBroadcastPreviewActions','ReactComposerLiveBroadcastPreviewBasicTab.react','ReactComposerLiveBroadcastPreviewStore','ReactComposerPropsAndStoreBasedStateMixin','ComposerVideoTabsIdentifiers','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerLiveBroadcastPreviewBasicTabContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerLiveBroadcastPreviewStore'))],statics:{calculateState:function(j,k){return {accessToken:c('ReactComposerLiveBroadcastPreviewStore').getAccessToken(j),title:c('ReactComposerLiveBroadcastPreviewStore').getTitle(j),streamURL:c('ReactComposerLiveBroadcastPreviewStore').getStreamURL(j),secureStreamURL:c('ReactComposerLiveBroadcastPreviewStore').getSecureStreamURL(j),videoID:c('ReactComposerLiveBroadcastPreviewStore').getVideoID(j),contentTags:c('ReactComposerLiveBroadcastPreviewStore').getContentTags(j)};}},render:function(){return (c('React').createElement(c('ReactComposerLiveBroadcastPreviewBasicTab.react'),{accessToken:this.state.accessToken,onContentTagChange:this._onContentTagChange,onTitleChange:this._onTitleChange,shown:this.props.shown,title:this.state.title,streamURL:this.state.streamURL,secureStreamURL:this.state.secureStreamURL,videoID:this.state.videoID,contentTags:this.state.contentTags}));},_onTitleChange:function(event){c('ReactComposerLiveBroadcastPreviewActions').setTitle(this.context.composerID,event.target.value);},_onContentTagChange:function(event){c('ReactComposerLiveBroadcastPreviewActions').setContentTags(this.context.composerID,event);}});f.exports=i;},null);
__d('ComposerVideoUploadTooltip.react',['cx','xuiglyph','Image.react','React','Tooltip.react','joinClasses'],function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){'use strict';return (c('React').createElement(c('Tooltip.react'),{alignH:this.props.alignH,position:this.props.alignV,tooltip:this.props.tooltip},c('React').createElement(c('Image.react'),{className:c('joinClasses')("_50lr",this.props.className),src:i('info-solid')})));};function m(){'use strict';j.apply(this,arguments);}m.propTypes={alignH:l.string,alignV:l.string,className:l.string,tooltip:l.string.isRequired};f.exports=m;},null);
__d('ComposerVideoUploadSection.react',['cx','ComposerVideoUploadTooltip.react','React','XUIText.react'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){'use strict';return (c('React').createElement('div',{className:this.props.className},c('React').createElement('div',{className:"_1_hd"},c('React').createElement(c('XUIText.react'),{size:'small',weight:'bold'},this.props.title),this.props.tooltip?c('React').createElement(c('ComposerVideoUploadTooltip.react'),{tooltip:this.props.tooltip}):null),this.props.children));};function l(){'use strict';i.apply(this,arguments);}l.propTypes={className:k.string,title:k.string.isRequired,tooltip:k.string};f.exports=l;},null);
__d('PolicyRuleTokenizedTypeahead.react',['React','SearchableEntry','XUITokenizer.react'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'PolicyRuleTokenizedTypeahead',propTypes:{className:h.string,disabled:h.bool,name:h.string.isRequired,error:h.string,placeholder:h.string,searchSource:h.object,searchSourceLabels:h.object,onEntriesUpdated:h.func.isRequired,value:h.arrayOf(h.string).isRequired},getInitialState:function(){return {entries:[],queryString:'',searchSource:this.props.searchSource};},componentDidMount:function(){this._fillTokenizer();},componentWillReceiveProps:function(j){this._fillTokenizer();},_fillTokenizer:function(){var j=[],k=0;this.props.value.forEach(function(l){var m=new (c('SearchableEntry'))({order:k,title:this.props.searchSourceLabels?this.props.searchSourceLabels[l]:l,uniqueID:l});j.push(m);k++;}.bind(this));this.setState({entries:j});},_onAddEntryAttempt:function(j){var k=this.props.value;k.push(j.getUniqueID().toString());this.props.onEntriesUpdated(k);},_onRemoveEntryAttempt:function(j){var k=this.props.value;k.splice(k.indexOf(j.getUniqueID().toString()),1);this.props.onEntriesUpdated(k);},_onQueryStringChange:function(event){this.setState({queryString:event.target.value});},render:function(){return (c('React').createElement(c('XUITokenizer.react'),{className:this.props.className,disabled:this.props.disabled,entries:this.state.entries,onAddEntryAttempt:this._onAddEntryAttempt,onQueryStringChange:this._onQueryStringChange,onRemoveEntryAttempt:this._onRemoveEntryAttempt,placeholder:this.props.placeholder,searchSource:this.state.searchSource,viewStyle:'textonly',xuiError:this.props.error}));}});f.exports=i;},null);
__d('VideoCopyrightGeoSearchSource',['AbstractSearchSource','countries.instagram','SearchableEntry','filterObject','forEachObject'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('AbstractSearchSource'));i=h&&h.prototype;j.prototype.searchImpl=function(k,l){var m=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];'use strict';var n=[];if(k)(function(){var o=k.toLowerCase(),p=c('filterObject')(c('countries.instagram'),function(r){return r.toLowerCase().startsWith(o);}),q=0;c('forEachObject')(p,function(r,s){return n.push(new (c('SearchableEntry'))({order:q++,title:r,uniqueID:s}));});})();l(n,k);};function j(){'use strict';h.apply(this,arguments);}f.exports=j;},null);
__d('VideoCopyrightGeoSelector.react',['cx','fbt','countries.instagram','PolicyRuleTokenizedTypeahead.react','React','VideoCopyrightGeoSearchSource','XUIRadioList.react','joinClasses','keyMirror'],function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('XUIRadioList.react').Item,m=new (c('VideoCopyrightGeoSearchSource'))(),n=c('keyMirror')({WORLDWIDE:null,BY_COUNTRY:null});j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(p){k.constructor.call(this,p);this.state={selectedCountries:p.selectedCountries||[],selectedValue:p.selectedCountries&&p.selectedCountries.length>0?n.BY_COUNTRY:n.WORLDWIDE};}o.prototype.$VideoCopyrightGeoSelector1=function(p){if(p===n.WORLDWIDE)this.props.onChange([]);this.setState({selectedValue:p,selectedCountries:[]});};o.prototype.$VideoCopyrightGeoSelector2=function(p){this.props.onChange(p);this.setState({selectedCountries:p});};o.prototype.$VideoCopyrightGeoSelector3=function(){if(this.state.selectedValue!==n.BY_COUNTRY)return null;return (c('React').createElement(c('PolicyRuleTokenizedTypeahead.react'),{className:"_2oc",name:'typeahead',onEntriesUpdated:this.$VideoCopyrightGeoSelector2.bind(this),placeholder:i._("Choose countries"),searchSource:m,searchSourceLabels:c('countries.instagram'),value:this.state.selectedCountries}));};o.prototype.render=function(){return (c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_2or")},c('React').createElement(c('XUIRadioList.react'),{className:"_2os",selectedValue:this.state.selectedValue,onValueChange:this.$VideoCopyrightGeoSelector1.bind(this)},c('React').createElement(l,{className:"_2ot",disabled:this.props.disabled,value:n.WORLDWIDE},i._("Worldwide")),c('React').createElement(l,{className:"_2ot",disabled:this.props.disabled,value:n.BY_COUNTRY},i._("By Country"))),this.$VideoCopyrightGeoSelector3()));};f.exports=o;},null);
__d('VideoCopyrightMatchRuleSelector.react',['fbt','Arbiter','GraphAPI','LoadingIndicator.react','PageContentTabAccessToken','React','VideoCopyrightUtils','XUISelector.react','keyMirror'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('XUISelector.react').Option,l=c('keyMirror')({DEFAULT:null,CREATE:null}),m={id:l.CREATE,name:h._("Create new Match Rule...")},n={id:l.DEFAULT,name:h._("Show all matches")};i=babelHelpers.inherits(o,c('React').Component);j=i&&i.prototype;function o(p){'use strict';j.constructor.call(this,p);this.state={rules:[],isLoading:true};}o.prototype.componentWillMount=function(){'use strict';this.$VideoCopyrightMatchRuleSelector2();this.$VideoCopyrightMatchRuleSelector1=c('Arbiter').subscribe('VideoCopyrightRule/closeDialog',this.$VideoCopyrightMatchRuleSelector3.bind(this));};o.prototype.componentWillUnmount=function(){'use strict';if(this.$VideoCopyrightMatchRuleSelector1){this.$VideoCopyrightMatchRuleSelector1.unsubscribe();this.$VideoCopyrightMatchRuleSelector1=null;}};o.prototype.$VideoCopyrightMatchRuleSelector2=function(p){'use strict';var q=this.props.accessToken?this.props.accessToken:c('PageContentTabAccessToken').getAccessToken();c('GraphAPI')(c('VideoCopyrightUtils').GRAPH_API_VERSION).object('page',this.props.pageID).edge('video_copyright_rules').get({access_token:q,fields:['id','name']}).done(function(r){var s=[n].concat(r.data||[]);s=s.map(function(t){return {id:t.id.toString(),name:t.name};});this.setState({isLoading:false,rules:s},function(){if(p&&s.length>1){this.$VideoCopyrightMatchRuleSelector4(s[1].id);}else this.$VideoCopyrightMatchRuleSelector4(this.props.selectedRule);}.bind(this));}.bind(this));};o.prototype.$VideoCopyrightMatchRuleSelector3=function(p,q){'use strict';if(q)this.setState({isLoading:true},function(){return this.$VideoCopyrightMatchRuleSelector2(true);}.bind(this));};o.prototype.$VideoCopyrightMatchRuleSelector4=function(p){'use strict';if(p!==this.props.selectedRule)this.props.onChange(p);};o.prototype.$VideoCopyrightMatchRuleSelector5=function(event){'use strict';if(event.value===l.CREATE){this.props.onCreateNewRule&&this.props.onCreateNewRule();}else if(event.value===l.DEFAULT){this.$VideoCopyrightMatchRuleSelector4(null);}else this.$VideoCopyrightMatchRuleSelector4(event.value);};o.prototype.$VideoCopyrightMatchRuleSelector6=function(p){'use strict';if(p&&!this.state.rules.some(function(q){return q.id===p;})){this.$VideoCopyrightMatchRuleSelector4(null);return null;}return p;};o.prototype.render=function(){'use strict';if(this.state.isLoading)return c('React').createElement(c('LoadingIndicator.react'),{size:'small',color:'white'});var p=this.props.onCreateNewRule?this.state.rules.concat([m]):this.state.rules,q=p.map(function(s){return (c('React').createElement(k,{key:s.id,value:s.id},s.name));}),r=this.$VideoCopyrightMatchRuleSelector6(this.props.selectedRule);return (c('React').createElement(c('XUISelector.react'),{className:this.props.className,disabled:this.props.disabled,onChange:this.$VideoCopyrightMatchRuleSelector5.bind(this),value:r||l.DEFAULT,defaultValue:p[0].id},q));};f.exports=o;},null);
__d('VideoCopyrightMonitoringSelector.react',['React','VideoCopyrightMonitoringType','VideoCopyrightUtils','XUISelector.react'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('XUISelector.react').Option,i=c('React').PropTypes,j=c('React').createClass({displayName:'VideoCopyrightMonitoringSelector',propTypes:{className:i.string,disabled:i.bool,onChange:i.func,value:i.string,validMonitoringTypes:i.array},render:function(){var k=this.props.validMonitoringTypes||Object.keys(c('VideoCopyrightMonitoringType')),l=k.map(function(m){var n=c('VideoCopyrightMonitoringType')[m];return (c('React').createElement(h,{key:n.value,value:n.value},n.label));});return (c('React').createElement(c('XUISelector.react'),{className:this.props.className,disabled:this.props.disabled,onChange:this.props.onChange,value:this.props.value,defaultValue:c('VideoCopyrightUtils').DEFAULT_MONITORING_TYPE},l));}});f.exports=j;},null);
__d('VideoCopyrightWhitelistSelector.react',['fbt','CurrentUser','React','SearchableEntry','WebAsyncSearchSource','XUITokenizer.react'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(l){'use strict';j.constructor.call(this,l);this.state={entries:l.entries||[],searchSource:new (c('WebAsyncSearchSource'))({queryRequests:[{uri:'/ajax/typeahead/search.php',data:{filter:['user','page'],viewer:c('CurrentUser').getID()}}]})};}k.prototype.componentWillMount=function(){'use strict';this.$VideoCopyrightWhitelistSelector1(this.props.entries||[]);};k.prototype.componentWillReceiveProps=function(l){'use strict';this.$VideoCopyrightWhitelistSelector1(l.entries||[]);};k.prototype.$VideoCopyrightWhitelistSelector1=function(l){'use strict';var m=l.map(function(n,o){return (new (c('SearchableEntry'))({order:o,title:n.name,uniqueID:n.id}));});this.setState({entries:m});};k.prototype.$VideoCopyrightWhitelistSelector2=function(l){'use strict';var m=this.props.entries;m.push({id:l.getUniqueID().toString(),name:l.getTitle()});this.props.onEntriesUpdated(m);};k.prototype.$VideoCopyrightWhitelistSelector3=function(l){'use strict';var m=this.props.entries;m=m.filter(function(n){return n.id!=l.getUniqueID().toString();});this.props.onEntriesUpdated(m);};k.prototype.render=function(){'use strict';return (c('React').createElement(c('XUITokenizer.react'),{className:this.props.className,entries:this.state.entries,onAddEntryAttempt:this.$VideoCopyrightWhitelistSelector2.bind(this),onRemoveEntryAttempt:this.$VideoCopyrightWhitelistSelector3.bind(this),placeholder:this.props.disabled?null:h._("Add Page or Person"),searchSource:this.state.searchSource,xuiError:this.props.error,disabled:this.props.disabled}));};f.exports=k;},null);
__d('ComposerVideoUploadRightsTab.react',['cx','fbt','ComposerVideoUploadSection.react','React','VideoCopyrightGeoSelector.react','VideoCopyrightMatchRuleSelector.react','VideoCopyrightMonitoringSelector.react','VideoCopyrightWhitelistSelector.react','XUIGrayText.react'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'ComposerVideoUploadRightsTab',propTypes:{accessToken:j.string,onCreateNewMatchRule:j.func,onGeoChange:j.func.isRequired,onMatchRuleChange:j.func.isRequired,onMonitoringTypeChange:j.func.isRequired,onWhitelistUpdated:j.func.isRequired,shown:j.bool,targetID:j.string.isRequired,monitoringType:j.string,ownershipCountries:j.array,ruleID:j.string,whitelistedPartners:j.array,isLiveBroadcast:j.bool,isLive:j.bool},_renderPermissionsSection:function(){return (c('React').createElement(c('ComposerVideoUploadSection.react'),{className:"_3-8-",title:i._("Grant Permissions"),tooltip:i._("Grant permission to any Page or person on Facebook to upload videos that contain this one.")},c('React').createElement(c('VideoCopyrightWhitelistSelector.react'),{className:"_3ee0",onEntriesUpdated:this.props.onWhitelistUpdated,placeholder:i._("Add Page or Person"),entries:this.props.whitelistedPartners,disabled:this.props.isLive})));},_renderMonitoringSection:function(){return (c('React').createElement(c('ComposerVideoUploadSection.react'),{title:i._("Specify Ownership"),tooltip:i._("Ownership establishes what element of the content belong to you in what parts of the world")},c('React').createElement(c('VideoCopyrightMonitoringSelector.react'),{onChange:this.props.onMonitoringTypeChange,value:this.props.monitoringType,disabled:this.props.isLive})));},_renderGeoSection:function(){return (c('React').createElement(c('VideoCopyrightGeoSelector.react'),{className:"_3-8y _3ee0",onChange:this.props.onGeoChange,selectedCountries:this.props.ownershipCountries,disabled:this.props.isLive}));},_renderMatchRuleSection:function(){return (c('React').createElement(c('ComposerVideoUploadSection.react'),{title:i._("Apply Match Rule"),tooltip:i._("Select which rule to apply to matching content")},c('React').createElement(c('VideoCopyrightMatchRuleSelector.react'),{accessToken:this.props.accessToken,onChange:this.props.onMatchRuleChange,onCreateNewRule:this.props.onCreateNewMatchRule,pageID:this.props.targetID,selectedRule:this.props.ruleID,disabled:this.props.isLive})));},render:function(){var l;if(this.props.isLiveBroadcast)l=c('React').createElement(c('XUIGrayText.react'),{className:"_3-8y",display:'block',shade:'light',size:'small'},i._("Infringing content will be removed automatically during the live stream only if you own worldwide rights to the content. The selected match rule will apply when the Live Video has ended."));return (c('React').createElement('div',{className:"_4clk"+(!this.props.shown?' '+"_2oq6":'')},c('React').createElement('div',{className:"_4cll"},this._renderMonitoringSection(),this._renderGeoSection()),c('React').createElement('div',{className:"_4cll _4clm"},this._renderMatchRuleSection(),l,this._renderPermissionsSection())));}});f.exports=k;},null);
__d('ReactComposerLiveBroadcastPreviewRightsTabContainer.react',['ReactComposerContextMixin','ReactComposerLiveBroadcastPreviewActions','ReactComposerLiveBroadcastPreviewStore','ReactComposerPropsAndStoreBasedStateMixin','ComposerVideoUploadRightsTab.react','ReactComponentWithPureRenderMixin','React','VideoCopyrightUtils'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerLiveBroadcastPreviewRightsTabContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerLiveBroadcastPreviewStore'))],propTypes:{accessToken:h.string,onCreateNewMatchRule:h.func,onLogEvent:h.func.isRequired,shown:h.bool},statics:{calculateState:function(j,k){var l=c('ReactComposerLiveBroadcastPreviewStore').getAccessToken(j),m=c('ReactComposerLiveBroadcastPreviewStore').getCopyrightMonitoringType(j)||c('VideoCopyrightUtils').DEFAULT_LIVE_MONITORING_TYPE,n=c('ReactComposerLiveBroadcastPreviewStore').getCopyrightRuleID(j),o=c('ReactComposerLiveBroadcastPreviewStore').getCopyrightWhitelistedPartners(j),p=c('ReactComposerLiveBroadcastPreviewStore').getCopyrightOwnershipCountries(j),q=c('ReactComposerLiveBroadcastPreviewStore').isLive(j);return {accessToken:l,monitoringType:m,ownershipCountries:p,ruleID:n,whitelistedPartners:o,isLive:q};}},render:function(){return (c('React').createElement(c('ComposerVideoUploadRightsTab.react'),{accessToken:this.state.accessToken,shown:this.props.shown,targetID:this.context.targetID,isLiveBroadcast:true,onCreateNewMatchRule:this.props.onCreateNewMatchRule,onGeoChange:this.onGeoChange,onMatchRuleChange:this.onMatchRuleChange,onMonitoringTypeChange:this.onMonitoringTypeChange,onWhitelistUpdated:this.onWhitelistUpdated,monitoringType:this.state.monitoringType,ownershipCountries:this.state.ownershipCountries,ruleID:this.state.ruleID,whitelistedPartners:this.state.whitelistedPartners,isLive:this.state.isLive}));},onMonitoringTypeChange:function(event){c('ReactComposerLiveBroadcastPreviewActions').setCopyrightMonitoringType(this.context.composerID,event.value);this.props.onLogEvent('monitoring_type_updated');},onWhitelistUpdated:function(j){c('ReactComposerLiveBroadcastPreviewActions').setCopyrightWhitelistedPartners(this.context.composerID,j.slice());this.props.onLogEvent('whitelist_updated');},onGeoChange:function(j){c('ReactComposerLiveBroadcastPreviewActions').setCopyrightOwnershipCountries(this.context.composerID,j);this.props.onLogEvent('ownership_countries_updated');},onMatchRuleChange:function(j){c('ReactComposerLiveBroadcastPreviewActions').setCopyrightRuleID(this.context.composerID,j);this.props.onLogEvent('rule_updated');}});f.exports=i;},null);
__d('ReactComposerLiveBroadcastPreview.react',['cx','fbt','ReactComposerContextMixin','ReactComposerLiveBroadcastPostUtils','ReactComposerLiveBroadcastPreviewAdvancedTabContainer.react','ReactComposerLiveBroadcastPreviewBasicTabContainer.react','ReactComposerLiveBroadcastPreviewDestinationTabContainer.react','ReactComposerLiveBroadcastPreviewRightsTabContainer.react','ReactComposerLiveBroadcastPreviewStore','ComposerVideoTabsIdentifiers','CreateBroadcastEvent','CreateLiveBroadcastUIWaterfallTypedLogger','ReactComponentWithPureRenderMixin','React','XUINotice.react','XUIPageNavigation.react','XUIPageNavigationGroup.react','XUIPageNavigationItem.react'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactComposerLiveBroadcastPreview',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{isAmbientOptionShown:j.bool,isCopyrightEnabled:j.bool,matchRulesEnabled:j.bool,showRightsTabDefault:j.bool,errorMessage:j.string},getInitialState:function(){return {selectedTab:c('ComposerVideoTabsIdentifiers').BASIC,showRightsTab:this.props.showRightsTabDefault===true};},render:function(){return (c('React').createElement('div',{className:"_5vx1 _1v6f"},c('React').createElement(c('XUIPageNavigation.react'),{className:"_1v6g",activeTabKey:this.state.selectedTab,onTabClick:this._onTabClick,ref:'tabbar'},c('React').createElement(c('XUIPageNavigationGroup.react'),null,c('React').createElement(c('XUIPageNavigationItem.react'),{href:'#',key:c('ComposerVideoTabsIdentifiers').BASIC},i._("Basic")),c('React').createElement(c('XUIPageNavigationItem.react'),{href:'#',key:c('ComposerVideoTabsIdentifiers').DESTINATION},i._("Destination")),c('React').createElement(c('XUIPageNavigationItem.react'),{href:'#',key:c('ComposerVideoTabsIdentifiers').ADVANCED},i._("Advanced")),this.state.showRightsTab?c('React').createElement(c('XUIPageNavigationItem.react'),{href:'#',key:c('ComposerVideoTabsIdentifiers').RIGHTS},i._("Rights")):null)),c('React').createElement(c('ReactComposerLiveBroadcastPreviewBasicTabContainer.react'),{shown:this.state.selectedTab===c('ComposerVideoTabsIdentifiers').BASIC}),c('React').createElement(c('ReactComposerLiveBroadcastPreviewDestinationTabContainer.react'),{shown:this.state.selectedTab===c('ComposerVideoTabsIdentifiers').DESTINATION}),c('React').createElement(c('ReactComposerLiveBroadcastPreviewAdvancedTabContainer.react'),{isAmbientOptionShown:this.props.isAmbientOptionShown,isCopyrightEnabled:this.props.isCopyrightEnabled,onCopyrightedChange:this._onToggleCopyrighted,shown:this.state.selectedTab===c('ComposerVideoTabsIdentifiers').ADVANCED}),this.props.matchRulesEnabled?c('React').createElement(c('ReactComposerLiveBroadcastPreviewRightsTabContainer.react'),{onLogEvent:this._logCopyrightEvent,shown:this.state.selectedTab===c('ComposerVideoTabsIdentifiers').RIGHTS}):null,this._renderErrorMessage(),this._renderAdsNotice()));},_renderAdsNotice:function(){return (c('React').createElement(c('XUINotice.react'),{className:"_3-8y"},i._("Don't put third-party video ads in your live video. For example, don't include bumpers, pre-roll, mid-roll or post-roll.")));},_renderErrorMessage:function(){if(this.props.errorMessage)return (c('React').createElement(c('XUINotice.react'),{className:"_3-8y",use:'warn'},this.props.errorMessage));return null;},_onTabClick:function(l){var m=null;switch(l){case c('ComposerVideoTabsIdentifiers').BASIC:m=c('CreateBroadcastEvent').SELECT_BASIC_TAB;break;case c('ComposerVideoTabsIdentifiers').DESTINATION:m=c('CreateBroadcastEvent').SELECT_DESTINATION_TAB;break;case c('ComposerVideoTabsIdentifiers').ADVANCED:m=c('CreateBroadcastEvent').SELECT_ADVANCED_TAB;break;case c('ComposerVideoTabsIdentifiers').RIGHTS:m=c('CreateBroadcastEvent').SELECT_RIGHTS_TAB;break;}if(m)new (c('CreateLiveBroadcastUIWaterfallTypedLogger'))().setEvent(m).setPageID(this.context.targetID).setBroadcastID(c('ReactComposerLiveBroadcastPreviewStore').getBroadcastID(this.context.composerID)).setIsDraft(c('ReactComposerLiveBroadcastPreviewStore').isEditing(this.context.composerID)).log();this.setState({selectedTab:l});},_logCopyrightEvent:function(l){c('ReactComposerLiveBroadcastPostUtils').logCopyrightEvent(l,this.context.composerID,this.context.targetID,false);},_onToggleCopyrighted:function(l){this.setState({showRightsTab:l});if(l)this._onTabClick(c('ComposerVideoTabsIdentifiers').RIGHTS);this._logCopyrightEvent('copyright_toggled');}});f.exports=k;},null);
__d('ReactComposerLiveBroadcastPreviewContainer.react',['invariant','ReactComposerContextMixin','ReactComposerLiveBroadcastPreview.react','ReactComposerLiveBroadcastPreviewActions','ComposerVideoPostUtils','ReactComposerPrefillStore','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerLiveBroadcastPreviewContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{isAmbientOptionShown:i.bool,isCopyrightEnabled:i.bool,matchRulesEnabled:i.bool},getInitialState:function(){return {showRightsTabDefault:false};},componentWillMount:function(){var k=c('ReactComposerPrefillStore').getAndEraseField(this.context.composerID,'liveBroadcastData');!!!k?h(0):void 0;c('ReactComposerLiveBroadcastPreviewActions').setBroadcastConfig(this.context.composerID,k);c('ReactComposerLiveBroadcastPreviewActions').setTitle(this.context.composerID,k.title);c('ReactComposerLiveBroadcastPreviewActions').setContentTags(this.context.composerID,c('ComposerVideoPostUtils').convertContentTagToEntryArray(k.contentTags));this.setState({showRightsTabDefault:k.copyrightData&&k.copyrightData.copyrighted,errorMessage:k.initialErrorMessage});},render:function(){return (c('React').createElement(c('ReactComposerLiveBroadcastPreview.react'),babelHelpers['extends']({},this.state,{isAmbientOptionShown:this.props.isAmbientOptionShown,isCopyrightEnabled:this.props.isCopyrightEnabled,matchRulesEnabled:this.props.matchRulesEnabled,errorMessage:this.state.errorMessage})));}});f.exports=j;},null);
__d('ComposerReferenceFileUploadRightsTab.react',['cx','fbt','ComposerVideoUploadSection.react','React','VideoCopyrightGeoSelector.react','VideoCopyrightMatchRuleSelector.react','VideoCopyrightMonitoringSelector.react','XUIGrayText.react'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'ComposerReferenceFileUploadRightsTab',propTypes:{accessToken:j.string,generateThumbnails:j.bool,onCreateNewMatchRule:j.func,onGeoChange:j.func.isRequired,onMatchRuleChange:j.func.isRequired,onMonitoringTypeChange:j.func.isRequired,shown:j.bool,targetID:j.string.isRequired,monitoringType:j.string,ownershipCountries:j.array,ruleID:j.string,isLiveBroadcast:j.bool},_renderMetadataSection:function(){var l=null;if(this.props.isLiveBroadcast)l=c('React').createElement(c('XUIGrayText.react'),{className:"_3-8x",display:'block',size:'small'},i._("Infringing content will be removed automatically during the live video only if you own worldwide rights to the content. The selected match rule will apply when the live video has ended."));return (c('React').createElement('div',{className:(!this.props.isLiveBroadcast?"_3xjw":'')+(!this.props.isLiveBroadcast?' '+"_1_hc":'')+(this.props.isLiveBroadcast?' '+"_4vmn":'')},c('React').createElement('div',{className:(!this.props.isLiveBroadcast?"_5sf4":'')+(this.props.isLiveBroadcast?' '+"_4vmo":'')},c('React').createElement(c('XUIGrayText.react'),{className:"_3-95",display:'block',size:'small'},i._("Establish ownership of your reference file and what match policy to apply.")),this._renderMonitoringSection(),this._renderGeoSection(),this._renderMatchRuleSection(),l)));},_logEvent:function(l){if(this.props.logger)this.props.logger.logEvent(l);},_renderMonitoringSection:function(){return (c('React').createElement(c('ComposerVideoUploadSection.react'),{title:i._("Specify Ownership"),tooltip:i._("Ownership establishes what element of the content belong to you in what parts of the world")},c('React').createElement(c('VideoCopyrightMonitoringSelector.react'),{onChange:this.props.onMonitoringTypeChange,value:this.props.monitoringType})));},_renderGeoSection:function(){return (c('React').createElement(c('VideoCopyrightGeoSelector.react'),{className:"_3-8y",onChange:this.props.onGeoChange,selectedCountries:this.props.ownershipCountries}));},_renderMatchRuleSection:function(){return (c('React').createElement(c('ComposerVideoUploadSection.react'),{className:"_3-8-",title:i._("Apply Match Rule"),tooltip:i._("Select which rule to apply to matching content")},c('React').createElement(c('VideoCopyrightMatchRuleSelector.react'),{onChange:this.props.onMatchRuleChange,onCreateNewRule:this.props.onCreateNewMatchRule,pageID:this.props.targetID,selectedRule:this.props.ruleID})));},render:function(){return (c('React').createElement('div',{className:!this.props.shown?"_2oq6":''},this._renderMetadataSection(),this.props.children));}});f.exports=k;},null);
__d('ReactComposerLiveReferenceBroadcastPreviewRightsTabContainer.react',['ReactComposerContextMixin','ReactComposerLiveBroadcastPreviewActions','ReactComposerLiveBroadcastPreviewStore','ReactComposerLiveBroadcastPreviewVideoPlayer.react','ReactComposerPropsAndStoreBasedStateMixin','ComposerReferenceFileUploadRightsTab.react','ReactComponentWithPureRenderMixin','React','VideoCopyrightUtils'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerLiveReferenceBroadcastPreviewRightsTabContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerLiveBroadcastPreviewStore'))],statics:{calculateState:function(j,k){var l=c('ReactComposerLiveBroadcastPreviewStore').getAccessToken(j),m=c('ReactComposerLiveBroadcastPreviewStore').getCopyrightMonitoringType(j)||c('VideoCopyrightUtils').DEFAULT_MONITORING_TYPE,n=c('ReactComposerLiveBroadcastPreviewStore').getCopyrightRuleID(j),o=c('ReactComposerLiveBroadcastPreviewStore').getCopyrightOwnershipCountries(j),p=c('ReactComposerLiveBroadcastPreviewStore').getStreamURL(j),q=c('ReactComposerLiveBroadcastPreviewStore').getSecureStreamURL(j),r=c('ReactComposerLiveBroadcastPreviewStore').getVideoID(j);return {accessToken:l,monitoringType:m,ownershipCountries:o,ruleID:n,streamURL:p,secureStreamURL:q,videoID:r};}},propTypes:{onCreateNewMatchRule:h.func,onLogEvent:h.func.isRequired,matchRulesEnabled:h.bool,shown:h.bool},render:function(){return (c('React').createElement(c('ComposerReferenceFileUploadRightsTab.react'),{accessToken:this.state.accessToken,shown:this.props.shown,targetID:this.context.targetID,onCreateNewMatchRule:this.props.onCreateNewMatchRule,onGeoChange:this.onGeoChange,onMatchRuleChange:this.onMatchRuleChange,onMonitoringTypeChange:this.onMonitoringTypeChange,matchRulesEnabled:this.props.matchRulesEnabled,monitoringType:this.state.monitoringType,ownershipCountries:this.state.ownershipCountries,ruleID:this.state.ruleID,isLiveBroadcast:true},c('React').createElement(c('ReactComposerLiveBroadcastPreviewVideoPlayer.react'),{shown:this.props.shown,streamURL:this.state.streamURL,secureStreamURL:this.state.secureStreamURL,videoID:this.state.videoID})));},onMonitoringTypeChange:function(event){c('ReactComposerLiveBroadcastPreviewActions').setCopyrightMonitoringType(this.context.composerID,event.value);this.props.onLogEvent('monitoring_type_updated');},onGeoChange:function(j){c('ReactComposerLiveBroadcastPreviewActions').setCopyrightOwnershipCountries(this.context.composerID,j);this.props.onLogEvent('ownership_countries_updated');},onMatchRuleChange:function(j){c('ReactComposerLiveBroadcastPreviewActions').setCopyrightRuleID(this.context.composerID,j);this.props.onLogEvent('rule_updated');}});f.exports=i;},null);
__d('ComposerReferenceFileUploadWhitelistTab.react',['cx','fbt','ComposerVideoUploadSection.react','React','VideoCopyrightWhitelistSelector.react','XUIGrayText.react'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'ComposerReferenceFileUploadWhitelistTab',propTypes:{shown:j.bool,whitelistedPartners:j.array,onWhitelistUpdated:j.func.isRequired},_renderPermissionsSection:function(){return (c('React').createElement(c('ComposerVideoUploadSection.react'),{className:"_3-8x",title:i._("Grant Permissions"),tooltip:i._("Allow these Pages and people to upload videos that contain this reference file.")},c('React').createElement(c('VideoCopyrightWhitelistSelector.react'),{className:"_4ouk",onEntriesUpdated:this.props.onWhitelistUpdated,placeholder:i._("Add Page or Person"),entries:this.props.whitelistedPartners})));},render:function(){return (c('React').createElement('div',{className:"_1es4"+(!this.props.shown?' '+"_2oq6":'')},c('React').createElement('div',{className:"_1es5"},c('React').createElement(c('XUIGrayText.react'),{display:'block',size:'small'},i._("Allow Pages and people to upload videos that contain your copyrighted media.")),this._renderPermissionsSection())));}});f.exports=k;},null);
__d('ReactComposerLiveReferenceBroadcastPreviewWhitelistTabContainer.react',['ReactComposerContextMixin','ReactComposerLiveBroadcastPreviewActions','ReactComposerLiveBroadcastPreviewStore','ReactComposerPropsAndStoreBasedStateMixin','ComposerReferenceFileUploadWhitelistTab.react','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerLiveReferenceBroadcastPreviewWhitelistTabContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerLiveBroadcastPreviewStore'))],statics:{calculateState:function(j,k){var l=c('ReactComposerLiveBroadcastPreviewStore').getCopyrightWhitelistedPartners(j);return {whitelistedPartners:l.slice()};}},propTypes:{onLogEvent:h.func.isRequired,shown:h.bool},render:function(){return (c('React').createElement(c('ComposerReferenceFileUploadWhitelistTab.react'),{shown:this.props.shown,whitelistedPartners:this.state.whitelistedPartners,onWhitelistUpdated:this.onWhitelistUpdated}));},onWhitelistUpdated:function(j){c('ReactComposerLiveBroadcastPreviewActions').setCopyrightWhitelistedPartners(this.context.composerID,j);this.props.onLogEvent('whitelist_updated');}});f.exports=i;},null);
__d('ReactComposerLiveReferenceBroadcastPreview.react',['cx','fbt','ActorURI','AsyncDialog','AsyncRequest','ReactComposerContextMixin','ReactComposerLiveBroadcastPostUtils','ReactComposerLiveBroadcastPreviewStore','ReactComposerLiveReferenceBroadcastPreviewRightsTabContainer.react','ReactComposerLiveReferenceBroadcastPreviewWhitelistTabContainer.react','ComposerVideoTabsIdentifiers','CreateBroadcastEvent','CreateLiveBroadcastUIWaterfallTypedLogger','DOMScroll','ReactComponentWithPureRenderMixin','React','VideoCopyrightRuleDialogSource','XUIPageNavigation.react','XUIPageNavigationGroup.react','XUIPageNavigationItem.react','XVideoCopyrightRuleDialogController','pageID'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactComposerLiveReferenceBroadcastPreview',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{matchRulesEnabled:j.bool},getInitialState:function(){return {selectedTab:c('ComposerVideoTabsIdentifiers').RIGHTS,shown:true};},render:function(){return (c('React').createElement('div',{className:"_5vx1 _1v6f"},c('React').createElement(c('XUIPageNavigation.react'),{className:"_1v6g",activeTabKey:this.state.selectedTab,onTabClick:this._onTabClick,ref:'tabbar'},c('React').createElement(c('XUIPageNavigationGroup.react'),null,c('React').createElement(c('XUIPageNavigationItem.react'),{href:'#',key:c('ComposerVideoTabsIdentifiers').RIGHTS},i._("Rights")),c('React').createElement(c('XUIPageNavigationItem.react'),{href:'#',key:c('ComposerVideoTabsIdentifiers').WHITELIST},i._("Permissions")))),c('React').createElement('div',{className:"_30ni"+(!this.state.shown?' '+"_30nk":'')},c('React').createElement(c('ReactComposerLiveReferenceBroadcastPreviewRightsTabContainer.react'),{onCreateNewMatchRule:this.createNewMatchRule,matchRulesEnabled:this.props.matchRulesEnabled,onLogEvent:this._logCopyrightEvent,shown:this.state.selectedTab===c('ComposerVideoTabsIdentifiers').RIGHTS}),c('React').createElement(c('ReactComposerLiveReferenceBroadcastPreviewWhitelistTabContainer.react'),{onLogEvent:this._logCopyrightEvent,shown:this.state.selectedTab===c('ComposerVideoTabsIdentifiers').WHITELIST}))));},_logCopyrightEvent:function(l){c('ReactComposerLiveBroadcastPostUtils').logCopyrightEvent(l,this.context.composerID,this.context.targetID,true);},_onTabClick:function(l){var m=null;switch(l){case c('ComposerVideoTabsIdentifiers').RIGHTS:m=c('CreateBroadcastEvent').SELECT_RIGHTS_TAB;break;case c('ComposerVideoTabsIdentifiers').WHITELIST:m=c('CreateBroadcastEvent').SELECT_WHITELIST_TAB;break;}if(m)new (c('CreateLiveBroadcastUIWaterfallTypedLogger'))().setEvent(m).setPageID(this.context.targetID).setBroadcastID(c('ReactComposerLiveBroadcastPreviewStore').getBroadcastID(this.context.composerID)).setIsDraft(c('ReactComposerLiveBroadcastPreviewStore').isEditing(this.context.composerID)).log();this.setState({selectedTab:l});},openCreateNewMatchRuleDialog:function(){var l=c('XVideoCopyrightRuleDialogController').getURIBuilder().setFBID('page_id',this.context.targetID).setEnum('source',c('VideoCopyrightRuleDialogSource').COMPOSER).setString('access_token',c('ReactComposerLiveBroadcastPreviewStore').getAccessToken(this.context.composerID)).getURI();l=c('ActorURI').create(l,c('pageID'));c('AsyncDialog').send(new (c('AsyncRequest'))(l),function(m){this._toggleVisible(false);var n=m.subscribe('hide',function(){this._toggleVisible(true);if(n){n.unsubscribe();n=null;}}.bind(this));}.bind(this));},_toggleVisible:function(l){this.setState({shown:l});},createNewMatchRule:function(){this._logCopyrightEvent('create_new_match_rule_clicked');if(c('DOMScroll').getScrollState().y!==0){c('DOMScroll').scrollToTop();setTimeout(this.openCreateNewMatchRuleDialog,500);}else this.openCreateNewMatchRuleDialog();}});f.exports=k;},null);
__d('ReactComposerLiveReferenceBroadcastPreviewContainer.react',['invariant','ReactComposerContextMixin','ReactComposerLiveReferenceBroadcastPreview.react','ReactComposerLiveBroadcastPreviewActions','ReactComposerPrefillStore','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerLiveReferenceBroadcastPreviewContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{matchRulesEnabled:i.bool},componentWillMount:function(){var k=c('ReactComposerPrefillStore').getAndEraseField(this.context.composerID,'liveBroadcastData');!!!k?h(0):void 0;c('ReactComposerLiveBroadcastPreviewActions').setBroadcastConfig(this.context.composerID,k);c('ReactComposerLiveBroadcastPreviewActions').setCopyrighted(this.context.composerID,true);},render:function(){return (c('React').createElement(c('ReactComposerLiveReferenceBroadcastPreview.react'),babelHelpers['extends']({},this.state,{matchRulesEnabled:this.props.matchRulesEnabled})));}});f.exports=j;},null);
__d('ReactComposerBackdateTaggerButton.react',['cx','fbt','ReactComposerTaggerButtonMixin','ReactComposerTaggerType','ReactComposerContextMixin','React'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').createClass({displayName:'ReactComposerBackdateTaggerButton',mixins:[c('ReactComposerTaggerButtonMixin'),c('ReactComposerContextMixin')],statics:{taggerID:c('ReactComposerTaggerType').BACKDATE},getTitle:function(){return i._("Set date and time of your post");},getTooltip:function(){return i._("Set date and time of your post");},getClassName:function(){return this.context.gks.has_facelift_glyphs?"_4ve3":"_3n04";}});f.exports=j;},null);
__d('ReactComposerBackdateTaggerComponent.react',['cx','fbt','Grid.react','ProgressiveDateAndTimePicker.react','React','emptyFunction'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('Grid.react').GridItem,k=c('React').PropTypes,l=c('React').createClass({displayName:'ReactComposerBackdateTaggerComponent',propTypes:{taggerData:k.object.isRequired,onSelect:k.func.isRequired},getDefaultProps:function(){return {taggerData:{},onSelect:c('emptyFunction')};},_onChange:function(m){this.props.onSelect(m);},render:function(){return (c('React').createElement(c('Grid.react'),{cols:2,className:"_5esl",role:'presentation'},c('React').createElement(j,{key:'prefix',className:"_5esm",role:'presentation'},i._("When")),c('React').createElement(j,{key:'tagger',className:"_5esw",role:'presentation'},c('React').createElement(c('ProgressiveDateAndTimePicker.react'),{className:"_5bm1",initialYear:this.props.taggerData.year,initialMonth:this.props.taggerData.month,initialDay:this.props.taggerData.day,initialHour:this.props.taggerData.hour,initialMinute:this.props.taggerData.minute,descendingYears:true,onDateAndTimeChange:this._onChange,menuMaxHeight:235}))));}});f.exports=l;},null);
__d('ReactComposerBackdateTaggerContainer.react',['ReactComposerBackdateTaggerComponent.react','ReactComposerTaggerContainerMixin','ReactComposerTaggerType','React'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'ReactComposerBackdateTaggerContainer',mixins:[c('ReactComposerTaggerContainerMixin')],statics:{taggerID:c('ReactComposerTaggerType').BACKDATE,taggerComponent:c('ReactComposerBackdateTaggerComponent.react')}});f.exports=h;},null);
__d('ReactComposerImplicitLocationComponent.react',['cx','React','XUICloseButton.react','emptyFunction'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerImplicitLocationComponent',propTypes:{caption:i.string.isRequired,hasExplicitLocation:i.bool,onClear:i.func},defaultProps:{onClear:c('emptyFunction')},render:function(){if(!this.props.caption)return c('React').createElement('noscript',null);var k=this.props.hasExplicitLocation?null:c('React').createElement(c('XUICloseButton.react'),{className:"_3s32",size:'small',onClick:this._onClear}),l="_3s33"+(this.props.hasExplicitLocation?' '+"_3s34":'');return (c('React').createElement('span',{className:l},c('React').createElement('span',null,this.props.caption.split(',')[0]),k));},_onClear:function(event){event.stopPropagation();this.props.onClear&&this.props.onClear();}});f.exports=j;},null);
__d('ReactComposerImplicitLocationContainer.react',['ReactComposerImplicitLocationComponent.react','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerTaggerActions','ReactComposerTaggerStore','ReactComposerTaggerType','AsyncRequest','URI','React'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'ReactComposerImplicitLocationContainer',mixins:[c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerTaggerStore'))],statics:{calculateState:function(i,j){var k=c('ReactComposerTaggerStore').getTaggerData(i,c('ReactComposerTaggerType').LOCATION)||{},l=k.implicitLocation||{};return {caption:l.citystring,hasExplicitLocation:!!k.place};}},render:function(){if(!this.state.caption)return c('React').createElement('noscript',null);return (c('React').createElement(c('ReactComposerImplicitLocationComponent.react'),babelHelpers['extends']({},this.state,{onClear:this._onClear})));},_onClear:function(){var i=c('ReactComposerTaggerStore').getTaggerData(this.context.composerID,c('ReactComposerTaggerType').LOCATION)||{};i.implicitLocation=null;c('ReactComposerTaggerActions').setTaggerData(this.context.composerID,c('ReactComposerTaggerType').LOCATION,i);var j=new (c('URI'))('/ajax/places/toggle_location_sharing').addQueryData({disable:1,session_id:i.sessionID});new (c('AsyncRequest'))(j).send();}});f.exports=h;},null);
__d('ReactComposerMediaFilePickerMixin',['invariant','ReactComposerContextMixin','Bootloader'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={mixins:[c('ReactComposerContextMixin')],componentWillMount:function(){!this.props.photoLimit?h(0):void 0;!this.props.targetData?h(0):void 0;},_onFileInputClick:function(j){c('Bootloader').loadModules(["ReactComposerAttachmentLoader","ReactComposerAttachmentType","ReactComposerMediaInitUtils","ReactComposerMediaUploadActions","ReactComposerLoggingStore"],function(k,l,m,n,o){n.inputClicked(this.context.composerID);k.load(this.context.composerID,l.MEDIA,typeof j==='function'?j:m.bootload,m.getBootstrapURI(this.context.composerID,this.context.composerType,this.context.targetID,this.context.actorID));}.bind(this),'ReactComposerMediaFilePickerMixin');},_onFilesSelected:function(event,j,k){event.persist&&event.persist();c('Bootloader').loadModules(["ReactComposerAttachmentType","ReactComposerAttachmentActions","ReactComposerPhotoUploader","ReactComposerMediaUtils"],function(l,m,n,o){var p=o.handleSpecialMediaUpload(event,j,this.props.mediaConfig,this.context);if(!p){var q=new n(this.context,this.props.photoLimit,{disableFaceRecognition:this.props.disableFaceRecognition});m.selectAttachment(this.context.composerID,l.MEDIA,true);o.uploadPhotosOrVideoFromTarget(this.context.composerID,event.target,q,this.props.targetData.targetSupportsMultiplePhotos,this.props.targetData.targetSupportsMultiMedia);}k&&k();}.bind(this),'ReactComposerMediaFilePickerMixin');}};f.exports=i;},null);
__d('ReactComposerPhotoTaggerButtonContainer.react',['ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerBootloaderPropTypes','ComposerEntryPointRef','ReactComposerMediaUploadType','ReactComposerMediaFilePickerMixin','ReactComposerPhotoTaggerButton.react','ReactComposerMediaUploadStore','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerScrapedAttachmentStore','ComposerTargetData','ReactComposerVideoUploadStore','React','SimpleNUXMessage','SimpleNUXMessageTypes','VideoUploadConfig','QE'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerPhotoTaggerButtonContainer',mixins:[c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerAttachmentStore'),c('ReactComposerMediaUploadStore'),c('ReactComposerScrapedAttachmentStore')),c('ReactComposerMediaFilePickerMixin')],propTypes:{bootloader:c('ReactComposerBootloaderPropTypes'),customPhotoTaggerButton:h.any,disableFaceRecognition:h.bool.isRequired,mediaAcceptParam:h.shape({photos:h.string,both:h.string}),photoLimit:h.number.isRequired,targetData:h.instanceOf(c('ComposerTargetData')).isRequired,mediaConfig:h.object.isRequired},getDefaultProps:function(){return {disableFaceRecognition:false};},statics:{calculateState:function(j,k){var l=c('ReactComposerAttachmentStore').getIsAttachmentSelected(j,c('ReactComposerAttachmentType').MEDIA),m=c('ReactComposerMediaUploadStore').getUploadsOfType(j,c('ReactComposerMediaUploadType').PHOTO),n=!c('ReactComposerVideoUploadStore').getVideo(j)&&!c('ReactComposerScrapedAttachmentStore').hasAttachment(j)&&m.size<k.photoLimit,o=!c('SimpleNUXMessage').hasUserSeenMessage(c('SimpleNUXMessageTypes').MULTIMEDIA_ATTACHMENTS_NUX)&&c('VideoUploadConfig').showMultimediaNUX;return {hasData:!!m.size&&l,shown:n,uploadSize:m.size,multimediaNuxShown:o};}},render:function(){if(!this.state.shown)return null;if(this.props.customPhotoTaggerButton){var j=this.props.customPhotoTaggerButton;return (c('React').createElement(j,babelHelpers['extends']({},this.props,this.state,{onClick:this._onClick,onFilesSelected:this._onFilesSelected})));}else return (c('React').createElement(c('ReactComposerPhotoTaggerButton.react'),babelHelpers['extends']({},this.props,this.state,{onClick:this._onClick,onFilesSelected:this._onFilesSelected,onNUXCloseButtonClick:this._onNUXCloseButtonClick})));},_onNUXCloseButtonClick:function(){c('SimpleNUXMessage').markMessageSeenByUser(c('SimpleNUXMessageTypes').MULTIMEDIA_ATTACHMENTS_NUX);this.setState({multimediaNuxShown:false});},_onClick:function(){this._onNUXCloseButtonClick();this._onFileInputClick(this.props.bootloader&&this.props.bootloader.mediaAttachment);if(this.context.composerType===c('ComposerEntryPointRef').TIMELINE&&this.context.actorID!==this.context.targetID)c('QE').logExposure('entdirectedpost_multi_photos_universe');}});f.exports=i;},null);
__d('ReactComposerStatusFooter.react',['cx','ReactComposerActivityTaggerButton.react','ReactComposerActivityTaggerContainer.react','ReactComposerAttachmentType','ReactComposerAudienceSelectorContainer.react','ReactComposerBackdateTaggerButton.react','ReactComposerBackdateTaggerContainer.react','ReactComposerBootloaderPropTypes','ReactComposerConfig','ReactComposerContextMixin','ReactComposerFooter.react','ReactComposerFooterActions.react','ReactComposerImplicitLocationContainer.react','ReactComposerLocationTaggerButton.react','ReactComposerLocationTaggerContainer.react','ReactComposerPeopleTaggerButton.react','ReactComposerPeopleTaggerContainer.react','ReactComposerPostButtonContainer.react','ReactComposerPhotoTaggerButtonContainer.react','ReactComposerTaggerButtons.react','ReactComposerTaggers.react','ReactComposerTaggerType','ReactComposerTaggerViewStyles','BasicTypeaheadLoggerJSConstants','ComposerEntryPointRef','ComposerTargetData','LeftRight.react','PlaceSearchConstants','React','ReactComponentWithPureRenderMixin'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('BasicTypeaheadLoggerJSConstants').EventNames,j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactComposerStatusFooter',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{additionalTaggers:j.arrayOf(j.shape({button:j.element.isRequired,container:j.element.isRequired})),additionalFooterActions:j.arrayOf(j.element),audienceXHP:j.instanceOf(HTMLElement),attachmentsConfig:j.object.isRequired,bootloader:c('ReactComposerBootloaderPropTypes'),config:c('ReactComposerConfig').isRequired,hasImplicitLocation:j.bool,isCameraIconEnabled:j.bool,locationTaggerPlaceholder:j.string,mediaAcceptParam:j.shape({photos:j.string,both:j.string}),mediaLocation:j.shape({latitude:j.number.isRequired,longitude:j.number.isRequired}),peopleTaggerPlaceholder:j.string,placeID:j.string,postButtonModule:j.func,taggersConfig:j.object.isRequired,targetData:j.instanceOf(c('ComposerTargetData')).isRequired},getDefaultProps:function(){return {isCameraIconEnabled:true};},render:function(){var l=this.props.hasImplicitLocation?"_icv":'',m=this.props.config.showExpandedComposer?'white':'light-wash',n=this.props.attachmentsConfig[c('ReactComposerAttachmentType').STATUS].feedOnlyPost,o=this.props.attachmentsConfig[c('ReactComposerAttachmentType').STATUS].feedOnlyPost?c('React').createElement(n,null):null;return (c('React').createElement('div',null,o,this._getTaggers(),c('React').createElement(c('ReactComposerFooter.react'),{background:m,className:l},c('React').createElement(c('LeftRight.react'),null,this._getButtons(),this._getFooterActions()))));},_getTaggers:function(){var l=this.props.taggersConfig,m=l[c('ReactComposerTaggerType').PEOPLE].enabled?c('React').createElement(c('ReactComposerPeopleTaggerContainer.react'),{placeholder:this.props.peopleTaggerPlaceholder,showEntriesOnFocus:false,actorID:this.context.actorID,taggerConfig:l[c('ReactComposerTaggerType').PEOPLE]}):null,n=l[c('ReactComposerTaggerType').LOCATION].enabled?c('React').createElement(c('ReactComposerLocationTaggerContainer.react'),{implicitLocationEnabled:l[c('ReactComposerTaggerType').LOCATION].implicitLocationEnabled,mediaLocation:this.props.mediaLocation,placeholder:this.props.locationTaggerPlaceholder,taggerConfig:l[c('ReactComposerTaggerType').LOCATION],taggerViewStyle:c('ReactComposerTaggerViewStyles').SCROLLABLE,typeaheadLoggerEventName:i.REACT_COMPOSER_LOCATION_TAGGER,typeaheadSearchSource:c('PlaceSearchConstants').SOURCE_W_COMPOSER}):null,o=this.context.composerType===c('ComposerEntryPointRef').TIMELINE,p=l[c('ReactComposerTaggerType').OG].enabled?c('React').createElement(c('ReactComposerActivityTaggerContainer.react'),{actionTypeIDsWithNoFreeForm:l[c('ReactComposerTaggerType').OG].actionTypeIDsWithNoFreeForm,actorID:this.context.actorID,isPersonalTimeline:o,actionTaggerViewStyle:c('ReactComposerTaggerViewStyles').SCROLLABLE,objectTaggerViewStyle:c('ReactComposerTaggerViewStyles').SCROLLABLE,placeID:this.props.placeID,actionTypeIDsToPrefetch:l[c('ReactComposerTaggerType').OG].actionTypeIDsToPrefetch,rankVerbs:l[c('ReactComposerTaggerType').OG].rankVerbs,typeaheadLoggerEventName:i.OGCOMPOSER_TAGGER}):null,q=l[c('ReactComposerTaggerType').BACKDATE].enabled?c('React').createElement(c('ReactComposerBackdateTaggerContainer.react'),null):null,r=this.props.additionalTaggers?this.props.additionalTaggers.map(function(s){return s.container;}):null;return (c('React').createElement(c('ReactComposerTaggers.react'),null,m,n,p,q,r));},_getButtons:function(){var l=this.props.taggersConfig,m=this.props.attachmentsConfig[c('ReactComposerAttachmentType').STATUS],n=this.props.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA],o=l[c('ReactComposerTaggerType').CAMERA].enabled&&this.props.isCameraIconEnabled?c('React').createElement(c('ReactComposerPhotoTaggerButtonContainer.react'),{bootloader:this.props.bootloader,customPhotoTaggerButton:m.customPhotoTaggerButton,disableFaceRecognition:n.disableFaceboxTagger,photoLimit:n.photoLimit,mediaAcceptParam:this.props.mediaAcceptParam,targetData:this.props.targetData,mediaConfig:n}):null,p=l[c('ReactComposerTaggerType').PEOPLE].enabled?c('React').createElement(c('ReactComposerPeopleTaggerButton.react'),null):null,q=l[c('ReactComposerTaggerType').OG].enabled?c('React').createElement(c('ReactComposerActivityTaggerButton.react'),null):null,r=l[c('ReactComposerTaggerType').LOCATION].enabled?c('React').createElement(c('ReactComposerLocationTaggerButton.react'),null,c('React').createElement(c('ReactComposerImplicitLocationContainer.react'),null)):null,s=l[c('ReactComposerTaggerType').BACKDATE].enabled?c('React').createElement(c('ReactComposerBackdateTaggerButton.react'),null):null,t=this.props.additionalTaggers?this.props.additionalTaggers.map(function(u){return u.button;}):null;return (c('React').createElement(c('ReactComposerTaggerButtons.react'),null,o,p,q,r,s,t));},_getFooterActions:function(){var l=this.props.audienceXHP?c('React').createElement(c('ReactComposerAudienceSelectorContainer.react'),{audienceXHP:this.props.audienceXHP,viewerIsTarget:this.props.targetData.viewerIsTarget}):null,m=this.props.postButtonModule||c('ReactComposerPostButtonContainer.react'),n=c('React').createElement(m,{config:this.props.config});return (c('React').createElement(c('ReactComposerFooterActions.react'),null,this.props.additionalFooterActions,l,n));}});f.exports=k;},null);
__d('ReactComposerStatusFooterContainer.react',['ReactComposerMediaUploadStore','ReactComposerMediaUploadType','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStatusFooter.react','ReactComposerTaggerStore','ReactComposerTaggerType','React','ReactComponentWithPureRenderMixin'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'ReactComposerStatusFooterContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerTaggerStore'))],statics:{calculateState:function(i,j){var k=c('ReactComposerTaggerStore').getTaggerData(i,c('ReactComposerTaggerType').LOCATION),l=k&&k.implicitLocation&&!!k.implicitLocation.citystring,m=k&&k.place&&k.place.getUniqueID(),n=c('ReactComposerMediaUploadStore').getUploadsOfType(i,c('ReactComposerMediaUploadType').PHOTO),o=n.filter(function(p){return p.isSpherical!==false;}).size;return {hasImplicitLocation:l,mediaLocation:k?k.mediaLocation:null,placeID:m,sphericalPhotoUploadsCount:o};}},render:function(){return (c('React').createElement(c('ReactComposerStatusFooter.react'),babelHelpers['extends']({},this.props,{hasImplicitLocation:this.state.hasImplicitLocation,mediaLocation:this.state.mediaLocation,placeID:this.state.placeID,sphericalPhotoUploadsCount:this.state.sphericalPhotoUploadsCount,isCameraIconEnabled:this.props.isCameraIconEnabled&&this.state.sphericalPhotoUploadsCount<1})));}});f.exports=h;},null);
__d('ReactComposerLiveBroadcastAttachment.react',['fbt','ReactComposerAttachmentType','ReactComposerConfig','ReactComposerContextMixin','ReactComposerLiveBroadcastPreviewContainer.react','ReactComposerLiveReferenceBroadcastPreviewContainer.react','ReactComposerProfilePhotoBlock.react','ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react','ReactComposerStatusFooterContainer.react','ReactComposerTaggerSummaryContainer.react','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerLiveBroadcastAttachment',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{config:c('ReactComposerConfig').isRequired,postButtonModule:i.func},componentWillMount:function(){setTimeout(function(){return this.refs.mentionsInput.focus();}.bind(this),0);},render:function(){var k=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').LIVE_BROADCAST],l=k.isReferenceBroadcast?c('React').createElement(c('ReactComposerLiveReferenceBroadcastPreviewContainer.react'),{matchRulesEnabled:k.matchRulesEnabled}):c('React').createElement(c('ReactComposerLiveBroadcastPreviewContainer.react'),{isAmbientOptionShown:k.isAmbientOptionShown,isCopyrightEnabled:k.isCopyrightEnabled,matchRulesEnabled:k.matchRulesEnabled});return (c('React').createElement('div',{className:this.props.className},c('React').createElement(c('ReactComposerProfilePhotoBlock.react'),{profilePicSrc:k.profilePicSrc},c('React').createElement(c('ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react'),{config:this.props.config,placeholder:h._(["What's on your mind?","2340e43c54f5a3de9ca7fc0a7efc2cae"]),ref:'mentionsInput'})),c('React').createElement(c('ReactComposerTaggerSummaryContainer.react'),null),l,c('React').createElement(c('ReactComposerStatusFooterContainer.react'),{additionalTaggers:this.props.additionalTaggers,additionalFooterActions:this.props.additionalFooterActions,attachmentsConfig:this.props.config.attachmentsConfig,audienceXHP:this.props.config.audienceXHP,bootloader:this.props.bootloader,config:this.props.config,postButtonModule:this.props.postButtonModule,taggersConfig:this.props.config.taggersConfig,targetData:this.props.config.targetData})));}});f.exports=j;},null);
__d('ReactComposerLiveBroadcastAttachmentContainer.react',['ReactComposerContextMixin','ReactComposerLiveBroadcastAttachment.react','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'ReactComposerLiveBroadcastAttachmentContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],render:function(){return (c('React').createElement(c('ReactComposerLiveBroadcastAttachment.react'),this.props));}});f.exports=h;},null);
__d('ReactComposerLiveBroadcastStore',['ReactComposerActionStore','ReactComposerLiveBroadcastPostUtils'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerActionStore'));i=h&&h.prototype;function j(){'use strict';i.constructor.call(this);}j.prototype.__onPostStarted=function(k){'use strict';var l=this.validateAction(k,['actorID','composerID','config','otherData','targetID']),m=l[0],n=l[1],o=l[2],p=l[3],q=l[4];c('ReactComposerLiveBroadcastPostUtils').post({actorID:m,composerID:n,isDraft:p.isDraft,isReferenceBroadcast:o.attachmentsConfig.LIVE_BROADCAST.isReferenceBroadcast,targetID:q});};f.exports=new j();},null);
__d('ReactComposerLiveBroadcastPostButtonContainer.react',['cx','fbt','ix','ReactComposerActions','ReactComposerConfig','ReactComposerContextMixin','ReactComposerLiveBroadcastPreviewStore','ReactComposerLiveBroadcastStore','ReactComposerPostButtonContainer.react','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStore','CreateBroadcastEvent','CreateLiveBroadcastUIWaterfallTypedLogger','ContextualDialogArrow','Image.react','PopoverMenu.react','ReactComponentWithPureRenderMixin','React','XUIButton.react','XUIButtonGroup.react','ReactXUIMenu'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=c('ReactXUIMenu').Item,l=c('React').createClass({displayName:'ReactComposerLiveBroadcastPostButtonContainer',mixins:[c('ReactComposerContextMixin'),c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerStore'),c('ReactComposerLiveBroadcastPreviewStore'))],propTypes:{config:c('ReactComposerConfig').isRequired},statics:{calculateState:function(m,n,o){return {canGoLive:!c('ReactComposerLiveBroadcastPreviewStore').hasVideoStream(m),isLive:c('ReactComposerLiveBroadcastPreviewStore').isLive(m),postFinished:c('ReactComposerLiveBroadcastPreviewStore').postFinished(m)};}},componentDidMount:function(){c('ReactComposerLiveBroadcastStore').registerComposerID(this.context.composerID);},render:function(){return (this.state.isLive?this._renderButtonsWhenLive():this._renderButtonsWhenPreview());},_renderButtonsWhenPreview:function(){var m=this.props.config.attachmentsConfig.LIVE_BROADCAST,n=m.isReferenceBroadcast?i._("Save"):i._("Go Live");return (c('React').createElement(c('XUIButtonGroup.react'),null,c('React').createElement(c('ReactComposerPostButtonContainer.react'),{label:n,config:this.props.config,forceDisabled:this.state.canGoLive||this.state.postFinished,onClickPreprocess:this._logPost.bind(this,false)}),this.props.config.attachmentsConfig.LIVE_BROADCAST.canSaveDraft?c('React').createElement(c('PopoverMenu.react'),{className:"_2li1",disabled:this.state.postFinished,menu:this._renderMenu(),alignh:'right',alignv:'middle',layerBehaviors:[c('ContextualDialogArrow')],position:'below'},c('React').createElement(c('XUIButton.react'),{imageRight:c('React').createElement(c('Image.react'),{src:j('/images/ui/x/button/dark/chevron.png')}),size:'medium',use:'confirm'})):null));},_renderButtonsWhenLive:function(){return (c('React').createElement(c('XUIButton.react'),{use:'confirm',onClick:this._onDraftClicked,label:i._("Save")}));},_renderMenu:function(){return (c('React').createElement(c('ReactXUIMenu'),null,c('React').createElement(k,{onclick:this._onDraftClicked},i._("Save as Unpublished"))));},_logPost:function(){var m=arguments.length<=0||arguments[0]===undefined?false:arguments[0];new (c('CreateLiveBroadcastUIWaterfallTypedLogger'))().setEvent(m?c('CreateBroadcastEvent').SAVE_DRAFT_BUTTON_CLICK:c('CreateBroadcastEvent').GO_LIVE_BUTTON_CLICK).setPageID(this.context.targetID).setBroadcastID(c('ReactComposerLiveBroadcastPreviewStore').getBroadcastID(this.context.composerID)).setIsDraft(c('ReactComposerLiveBroadcastPreviewStore').isEditing(this.context.composerID)).log();return true;},_onDraftClicked:function(){this._logPost(true);c('ReactComposerActions').postStarted(this.context.composerID,{actorID:this.context.actorID,config:this.props.config,isDraft:true,targetID:this.context.targetID});}});f.exports=l;},null);
__d('ReactComposerLiveBroadcastEagerAttachment.react',['ReactComposerAttachmentActions','ReactComposerAttachmentType','ReactComposerAttachmentBodyMixin','ReactComposerConfig','ReactComposerLiveBroadcastPostButtonContainer.react','ReactComposerLiveBroadcastAttachmentContainer.react','ReactComposerStatusActions','ReactComposerTaggerActions','React'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerLiveBroadcastEagerAttachment',mixins:[c('ReactComposerAttachmentBodyMixin')()],propTypes:{config:c('ReactComposerConfig').isRequired,selected:h.bool},statics:{attachmentID:c('ReactComposerAttachmentType').LIVE_BROADCAST},componentWillMount:function(){var j=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').LIVE_BROADCAST].bootstrapData;c('ReactComposerTaggerActions').updateTaggersSource(this.context.composerID,j.taggersSource);c('ReactComposerStatusActions').setMentionsSource(this.context.composerID,j.mentionsSource);c('ReactComposerStatusActions').setTypeaheadReporter(this.context.composerID,j.typeaheadReporter);c('ReactComposerAttachmentActions').setInitialized(this.context.composerID,c('ReactComposerAttachmentType').LIVE_BROADCAST);},renderX:function(){return (c('React').createElement(c('ReactComposerLiveBroadcastAttachmentContainer.react'),babelHelpers['extends']({},this.props,{postButtonModule:c('ReactComposerLiveBroadcastPostButtonContainer.react')})));}});f.exports=i;},null);
__d('ReactLiveBroadcastComposer.react',['cx','fbt','ReactComposer.react','ReactComposerAttachmentActions','ReactComposerAttachmentType','ReactComposerBodyContainer.react','ReactComposerConfig','ReactComposerContextConfig','ReactComposerContextProviderMixin','ReactComposerLiveBroadcastPreviewStore','ReactComposerLiveBroadcastEagerAttachment.react','ReactComposerLiveBroadcastPreviewActions','ReactComposerTaggerType','ReactComposerTargetingTaggerButton.react','ReactComposerTargetingTaggerContainer.react','ReactComposerPrefillActions','ReactComposerPrefillConfig','DOMContainer.react','Arbiter','CreateBroadcastDismissConfirmationDialog.react','CreateBroadcastEvent','CreateBroadcastStep','CreateLiveBroadcastUIWaterfallTypedLogger','LoadingIndicator.react','PageContentTabCommonBroadcastsActions','ReactComponentWithPureRenderMixin','React','SubscriptionsHandler','XUICloseButton.react','XUIDialogTitle.react'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').createClass({displayName:'ReactLiveBroadcastComposer',mixins:[c('ReactComposerContextProviderMixin'),c('ReactComponentWithPureRenderMixin')],propTypes:{contextConfig:c('ReactComposerContextConfig').isRequired,config:c('ReactComposerConfig').isRequired,prefillConfig:c('ReactComposerPrefillConfig').isRequired},getInitialState:function(){return {isEditing:false,showConfirmDialog:false,postFinished:false,subscriptions:new (c('SubscriptionsHandler'))()};},componentWillMount:function(){this.setState({isEditing:this.props.prefillConfig.liveBroadcastData.isEditing,withoutCloseButton:this.props.prefillConfig.liveBroadcastData.withoutCloseButton,headerTitle:this.props.prefillConfig.liveBroadcastData.composerHeaderTitle});new (c('CreateLiveBroadcastUIWaterfallTypedLogger'))().setEvent(c('CreateBroadcastEvent').START_PREVIEW_STEP).setPageID(this.props.contextConfig.targetID).setBroadcastID(this.props.prefillConfig.liveBroadcastData.broadcastID).setVideoID(this.props.prefillConfig.liveBroadcastData.videoID).setIsDraft(this.props.prefillConfig.liveBroadcastData.isEditing).log();c('ReactComposerPrefillActions').setPrefillData(this.props.contextConfig.composerID,this.props.prefillConfig);this.state.subscriptions.addSubscriptions(c('Arbiter').subscribe('BroadcastDialog/goLive',this._onGoLive.bind(this,this.props.contextConfig.composerID)));},componentDidMount:function(){c('ReactComposerAttachmentActions').selectAttachment(this.props.contextConfig.composerID,c('ReactComposerAttachmentType').LIVE_BROADCAST,true);},render:function(){var k=null;if(this.state.showConfirmDialog)if(this.state.isEditing){var l=i._("Discard Changes?"),m=i._("If you leave now, any unsaved changes will be discarded.");k=c('React').createElement(c('CreateBroadcastDismissConfirmationDialog.react'),{onCancel:this._onDismissConfirmationCancel,onConfirm:this._onDismissConfirmationConfirm,title:l,content:m});}else k=c('React').createElement(c('CreateBroadcastDismissConfirmationDialog.react'),{onCancel:this._onDismissConfirmationCancel,onConfirm:this._onDismissConfirmationConfirm});var n=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').LIVE_BROADCAST].isReferenceBroadcast,o=null;if(this.state.isEditing){o=i._("Edit Live Video");}else if(this.state.headerTitle){o=c('React').createElement(c('DOMContainer.react'),null,this.state.headerTitle);}else o=n?i._("Add Reference Live Video"):i._("Create Live Video");var p=null;if(this.state.postFinished)p=c('React').createElement(c('LoadingIndicator.react'),{className:"_4d7y",size:'small',color:'white'});var q=null;if(!this.state.withoutCloseButton)q=c('React').createElement(c('XUICloseButton.react'),{label:i._("Close"),onClick:this._showConfirmDialog,disabled:this.state.postFinished});return (c('React').createElement('div',null,k,c('React').createElement(c('XUIDialogTitle.react'),{showCloseButton:false},o,p,q),c('React').createElement(c('ReactComposer.react'),{loggingConfig:this.props.config.loggingConfig},c('React').createElement(c('ReactComposerBodyContainer.react'),{expanded:this.props.config.showExpandedComposer},c('React').createElement(c('ReactComposerLiveBroadcastEagerAttachment.react'),{additionalTaggers:this._getAdditionalTaggers(),key:'live',config:this.props.config,selected:true})))));},_getAdditionalTaggers:function(){var k=[],l=this.props.config.taggersConfig;if(l[c('ReactComposerTaggerType').TARGETING]&&l[c('ReactComposerTaggerType').TARGETING].enabled){var m=l[c('ReactComposerTaggerType').TARGETING],n=this.props.config.nuxConfig;k.push({button:c('React').createElement(c('ReactComposerTargetingTaggerButton.react'),{feedTargetingGK:m.feedTargetingGK,feedTargetingShowReachGK:this.props.config.feedTargetingShowReachGK,createLiveVideoTooltipText:i._("Restrict who can see this video"),hideFeedTargeting:true,shouldShowTargetingTaggerNux:n.shouldShowTargetingTaggerNux,shouldShowRestrictionTabNux:this.props.config.nuxConfig.shouldShowRestrictionTabNux,useTargetingAsFilter:!m.feedTargetingGK,key:'targeting_button'}),container:c('React').createElement(c('ReactComposerTargetingTaggerContainer.react'),{key:'targeting_container'})});}return k;},_showConfirmDialog:function(){this.setState({showConfirmDialog:true});},_onDismissConfirmationCancel:function(){this.setState({showConfirmDialog:false});},_onDismissConfirmationConfirm:function(){var k=c('ReactComposerLiveBroadcastPreviewStore').getBroadcastID(this.props.contextConfig.composerID),l=c('ReactComposerLiveBroadcastPreviewStore').getVideoID(this.props.contextConfig.composerID);new (c('CreateLiveBroadcastUIWaterfallTypedLogger'))().setEvent(c('CreateBroadcastEvent').CANCEL_CREATE_FLOW).setPageID(this.props.contextConfig.targetID).setBroadcastID(k).setVideoID(l).setStep(c('CreateBroadcastStep').PREVIEW_STEP).log();if(!this.state.isEditing)c('PageContentTabCommonBroadcastsActions').deleteVideos(this.props.contextConfig.targetID,[{id:k}],false);this.setState({showConfirmDialog:false});c('Arbiter').inform('BroadcastDialog/dismiss');},_onGoLive:function(k){this.setState({postFinished:true});c('ReactComposerLiveBroadcastPreviewActions').setPostFinished(k,true);}});f.exports=j;},null);