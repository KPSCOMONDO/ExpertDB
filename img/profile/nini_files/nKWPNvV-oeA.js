if (self.CavalryLogger) { CavalryLogger.start_js(["RtVVr"]); }

__d('ObservationTimer',['performanceNow','EventSubscription','Observables'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i,j,k){this.$ObservationTimer8=i;this.$ObservationTimer1=j;this.$ObservationTimer3=k;this.$ObservationTimer2=0;this.$ObservationTimer4=false;this.$ObservationTimer6=null;this.$ObservationTimer7=[];this.$ObservationTimer9(this.$ObservationTimer8.addListener('valueChange',function(){return this.$ObservationTimer10();}.bind(this)));this.$ObservationTimer10();}h.prototype.$ObservationTimer10=function(){var i=this.$ObservationTimer1-this.$ObservationTimer2;if(i<=0){this.$ObservationTimer11();}else{var j=this.$ObservationTimer8.getValue(),k=this.$ObservationTimer6!==null;if(j&&!k){this.$ObservationTimer12();}else if(!j&&k)this.$ObservationTimer13();}};h.prototype.$ObservationTimer12=function(){var i=this.$ObservationTimer1-this.$ObservationTimer2;if(i>0){this.$ObservationTimer6=setTimeout(function(){return this.$ObservationTimer11();}.bind(this),i);this.$ObservationTimer5=c('performanceNow')();}else this.$ObservationTimer11();};h.prototype.$ObservationTimer13=function(){if(this.$ObservationTimer6!==null){clearTimeout(this.$ObservationTimer6);this.$ObservationTimer6=null;var i=c('performanceNow')(),j=i-this.$ObservationTimer5;this.$ObservationTimer2+=j;if(this.$ObservationTimer2>=this.$ObservationTimer1)this.$ObservationTimer11();}};h.prototype.$ObservationTimer11=function(){if(!this.$ObservationTimer4){this.$ObservationTimer4=true;this.$ObservationTimer3();this.$ObservationTimer14();if(this.$ObservationTimer6!==null)clearTimeout(this.$ObservationTimer6);}};h.prototype.$ObservationTimer9=function(i){this.$ObservationTimer7.push(i);};h.prototype.$ObservationTimer14=function(){this.$ObservationTimer7.forEach(function(i){return i.remove();});this.$ObservationTimer7=[];};h.prototype.cancel=function(){this.$ObservationTimer4=true;this.$ObservationTimer14();this.$ObservationTimer13();};f.exports=h;},null);